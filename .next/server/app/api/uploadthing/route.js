"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/uploadthing/route";
exports.ids = ["app/api/uploadthing/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "./action-async-storage.external?8dda":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "./request-async-storage.external?3d59":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "./static-generation-async-storage.external?16bc":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("node:fs");

/***/ }),

/***/ "node:fs/promises":
/*!***********************************!*\
  !*** external "node:fs/promises" ***!
  \***********************************/
/***/ ((module) => {

module.exports = require("node:fs/promises");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:stream");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("worker_threads");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fuploadthing%2Froute&page=%2Fapi%2Fuploadthing%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fuploadthing%2Froute.ts&appDir=C%3A%5CUsers%5Cxyz%5CDownloads%5Csyncchat%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cxyz%5CDownloads%5Csyncchat&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fuploadthing%2Froute&page=%2Fapi%2Fuploadthing%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fuploadthing%2Froute.ts&appDir=C%3A%5CUsers%5Cxyz%5CDownloads%5Csyncchat%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cxyz%5CDownloads%5Csyncchat&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_xyz_Downloads_syncchat_src_app_api_uploadthing_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/uploadthing/route.ts */ \"(rsc)/./src/app/api/uploadthing/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/uploadthing/route\",\n        pathname: \"/api/uploadthing\",\n        filename: \"route\",\n        bundlePath: \"app/api/uploadthing/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\xyz\\\\Downloads\\\\syncchat\\\\src\\\\app\\\\api\\\\uploadthing\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_xyz_Downloads_syncchat_src_app_api_uploadthing_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/uploadthing/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ1cGxvYWR0aGluZyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGdXBsb2FkdGhpbmclMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZ1cGxvYWR0aGluZyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUN4eXolNUNEb3dubG9hZHMlNUNzeW5jY2hhdCU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDeHl6JTVDRG93bmxvYWRzJTVDc3luY2NoYXQmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDeUI7QUFDdEc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zeW5jY2hhdC8/OTg1ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFx4eXpcXFxcRG93bmxvYWRzXFxcXHN5bmNjaGF0XFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHVwbG9hZHRoaW5nXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS91cGxvYWR0aGluZy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3VwbG9hZHRoaW5nXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS91cGxvYWR0aGluZy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXHh5elxcXFxEb3dubG9hZHNcXFxcc3luY2NoYXRcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcdXBsb2FkdGhpbmdcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvdXBsb2FkdGhpbmcvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fuploadthing%2Froute&page=%2Fapi%2Fuploadthing%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fuploadthing%2Froute.ts&appDir=C%3A%5CUsers%5Cxyz%5CDownloads%5Csyncchat%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cxyz%5CDownloads%5Csyncchat&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/uploadthing/core.ts":
/*!*****************************************!*\
  !*** ./src/app/api/uploadthing/core.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ourFileRouter: () => (/* binding */ ourFileRouter)\n/* harmony export */ });\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/db */ \"(rsc)/./src/db/index.ts\");\n/* harmony import */ var _kinde_oss_kinde_auth_nextjs_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @kinde-oss/kinde-auth-nextjs/server */ \"(rsc)/./node_modules/@kinde-oss/kinde-auth-nextjs/dist/server/index.js\");\n/* harmony import */ var uploadthing_next__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! uploadthing/next */ \"(rsc)/./node_modules/uploadthing/dist/next.mjs\");\n/* harmony import */ var langchain_document_loaders_fs_pdf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! langchain/document_loaders/fs/pdf */ \"(rsc)/./node_modules/langchain/document_loaders/fs/pdf.js\");\n/* harmony import */ var _langchain_pinecone__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @langchain/pinecone */ \"(rsc)/./node_modules/@langchain/pinecone/index.js\");\n/* harmony import */ var _lib_pinecone__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/pinecone */ \"(rsc)/./src/lib/pinecone.ts\");\n/* harmony import */ var _langchain_openai__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @langchain/openai */ \"(rsc)/./node_modules/@langchain/openai/index.js\");\n/* harmony import */ var _lib_stripe__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/lib/stripe */ \"(rsc)/./src/lib/stripe.ts\");\n/* harmony import */ var _config_stripe__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/config/stripe */ \"(rsc)/./src/config/stripe.ts\");\n\n\n\n\n\n\n\n\n\nconst f = (0,uploadthing_next__WEBPACK_IMPORTED_MODULE_2__.createUploadthing)();\nconst middleware = async ()=>{\n    const { getUser } = (0,_kinde_oss_kinde_auth_nextjs_server__WEBPACK_IMPORTED_MODULE_1__.getKindeServerSession)();\n    const user = getUser();\n    if (!user || !user.id) throw new Error(\"Unauthorized\");\n    const subscriptionPlan = await (0,_lib_stripe__WEBPACK_IMPORTED_MODULE_7__.getUserSubscriptionPlan)();\n    return {\n        subscriptionPlan,\n        userId: user.id\n    };\n};\nconst onUploadComplete = async ({ metadata, file })=>{\n    const isFileExist = await _db__WEBPACK_IMPORTED_MODULE_0__.db.file.findFirst({\n        where: {\n            key: file.key\n        }\n    });\n    if (isFileExist) return;\n    const createdFile = await _db__WEBPACK_IMPORTED_MODULE_0__.db.file.create({\n        data: {\n            key: file.key,\n            name: file.name,\n            userId: metadata.userId,\n            url: `https://utfs.io/f/${file.key}`,\n            uploadStatus: \"PROCESSING\"\n        }\n    });\n    try {\n        const response = await fetch(`https://utfs.io/f/${file.key}`);\n        const blob = await response.blob();\n        const loader = new langchain_document_loaders_fs_pdf__WEBPACK_IMPORTED_MODULE_3__.PDFLoader(blob);\n        const pageLevelDocs = await loader.load();\n        const pagesAmt = pageLevelDocs.length;\n        const { subscriptionPlan } = metadata;\n        const { isSubscribed } = subscriptionPlan;\n        const isProExceeded = pagesAmt > _config_stripe__WEBPACK_IMPORTED_MODULE_8__.PLANS.find((plan)=>plan.name === \"Pro\").pagesPerPdf;\n        const isFreeExceeded = pagesAmt > _config_stripe__WEBPACK_IMPORTED_MODULE_8__.PLANS.find((plan)=>plan.name === \"Free\").pagesPerPdf;\n        if (isSubscribed && isProExceeded || !isSubscribed && isFreeExceeded) {\n            await _db__WEBPACK_IMPORTED_MODULE_0__.db.file.update({\n                data: {\n                    uploadStatus: \"FAILED\"\n                },\n                where: {\n                    id: createdFile.id\n                }\n            });\n        }\n        // vectorize and index entire document\n        const pineconeIndex = _lib_pinecone__WEBPACK_IMPORTED_MODULE_5__.pc.Index(\"pdf\");\n        const embeddings = new _langchain_openai__WEBPACK_IMPORTED_MODULE_6__.OpenAIEmbeddings({\n            openAIApiKey: process.env.OPENAI_API_KEY\n        });\n        await _langchain_pinecone__WEBPACK_IMPORTED_MODULE_4__.PineconeStore.fromDocuments(pageLevelDocs, embeddings, {\n            pineconeIndex,\n            namespace: createdFile.id\n        });\n        await _db__WEBPACK_IMPORTED_MODULE_0__.db.file.update({\n            data: {\n                uploadStatus: \"SUCCESS\"\n            },\n            where: {\n                id: createdFile.id\n            }\n        });\n    } catch (err) {\n        await _db__WEBPACK_IMPORTED_MODULE_0__.db.file.update({\n            data: {\n                uploadStatus: \"FAILED\"\n            },\n            where: {\n                id: createdFile.id\n            }\n        });\n    }\n};\nconst ourFileRouter = {\n    freePlanUploader: f({\n        pdf: {\n            maxFileSize: \"4MB\"\n        }\n    }).middleware(middleware).onUploadComplete(onUploadComplete),\n    proPlanUploader: f({\n        pdf: {\n            maxFileSize: \"16MB\"\n        }\n    }).middleware(middleware).onUploadComplete(onUploadComplete)\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNtQixJQUFJLENBQUN5QixNQUFNLENBQUM7WUFDbkJsQixNQUFNO2dCQUNKRyxjQUFjO1lBQ2hCO1lBQ0FQLE9BQU87Z0JBQ0xULElBQUlXLFlBQVlYLEVBQUU7WUFDcEI7UUFDRjtJQUNGO0FBQ0Y7QUFFTyxNQUFNMEMsZ0JBQWdCO0lBQzNCQyxrQkFBa0IvQyxFQUFFO1FBQUVnRCxLQUFLO1lBQUVDLGFBQWE7UUFBTTtJQUFFLEdBQy9DaEQsVUFBVSxDQUFDQSxZQUNYTyxnQkFBZ0IsQ0FBQ0E7SUFDcEIwQyxpQkFBaUJsRCxFQUFFO1FBQUVnRCxLQUFLO1lBQUVDLGFBQWE7UUFBTztJQUFFLEdBQy9DaEQsVUFBVSxDQUFDQSxZQUNYTyxnQkFBZ0IsQ0FBQ0E7QUFFdEIsRUFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zeW5jY2hhdC8uL3NyYy9hcHAvYXBpL3VwbG9hZHRoaW5nL2NvcmUudHM/MWE2OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkYiB9IGZyb20gXCJAL2RiXCI7XHJcbmltcG9ydCB7IGdldEtpbmRlU2VydmVyU2Vzc2lvbiB9IGZyb20gXCJAa2luZGUtb3NzL2tpbmRlLWF1dGgtbmV4dGpzL3NlcnZlclwiO1xyXG5pbXBvcnQgeyBjcmVhdGVVcGxvYWR0aGluZywgdHlwZSBGaWxlUm91dGVyIH0gZnJvbSBcInVwbG9hZHRoaW5nL25leHRcIjtcclxuaW1wb3J0IHsgVXBsb2FkVGhpbmdFcnJvciB9IGZyb20gXCJ1cGxvYWR0aGluZy9zZXJ2ZXJcIjtcclxuaW1wb3J0IHsgUERGTG9hZGVyIH0gZnJvbSBcImxhbmdjaGFpbi9kb2N1bWVudF9sb2FkZXJzL2ZzL3BkZlwiO1xyXG5pbXBvcnQgeyBQaW5lY29uZVN0b3JlIH0gZnJvbSBcIkBsYW5nY2hhaW4vcGluZWNvbmVcIjtcclxuaW1wb3J0IHsgcGMgfSBmcm9tIFwiQC9saWIvcGluZWNvbmVcIjtcclxuaW1wb3J0IHsgT3BlbkFJRW1iZWRkaW5ncyB9IGZyb20gXCJAbGFuZ2NoYWluL29wZW5haVwiO1xyXG5pbXBvcnQgeyBnZXRVc2VyU3Vic2NyaXB0aW9uUGxhbiB9IGZyb20gXCJAL2xpYi9zdHJpcGVcIjtcclxuaW1wb3J0IHsgUExBTlMgfSBmcm9tIFwiQC9jb25maWcvc3RyaXBlXCI7XHJcblxyXG5jb25zdCBmID0gY3JlYXRlVXBsb2FkdGhpbmcoKTtcclxuXHJcbmNvbnN0IG1pZGRsZXdhcmUgPSBhc3luYyAoKSA9PiB7XHJcbiAgY29uc3QgeyBnZXRVc2VyIH0gPSBnZXRLaW5kZVNlcnZlclNlc3Npb24oKTtcclxuICBjb25zdCB1c2VyID0gZ2V0VXNlcigpO1xyXG5cclxuICBpZiAoIXVzZXIgfHwgIXVzZXIuaWQpIHRocm93IG5ldyBFcnJvcihcIlVuYXV0aG9yaXplZFwiKTtcclxuXHJcbiAgY29uc3Qgc3Vic2NyaXB0aW9uUGxhbiA9IGF3YWl0IGdldFVzZXJTdWJzY3JpcHRpb25QbGFuKCk7XHJcblxyXG4gIHJldHVybiB7IHN1YnNjcmlwdGlvblBsYW4sIHVzZXJJZDogdXNlci5pZCB9O1xyXG59O1xyXG5cclxuY29uc3Qgb25VcGxvYWRDb21wbGV0ZSA9IGFzeW5jICh7XHJcbiAgbWV0YWRhdGEsXHJcbiAgZmlsZSxcclxufToge1xyXG4gIG1ldGFkYXRhOiBBd2FpdGVkPFJldHVyblR5cGU8dHlwZW9mIG1pZGRsZXdhcmU+PlxyXG4gIGZpbGU6IHtcclxuICAgIGtleTogc3RyaW5nXHJcbiAgICBuYW1lOiBzdHJpbmdcclxuICAgIHVybDogc3RyaW5nXHJcbiAgfSBcclxufSkgPT4ge1xyXG4gIGNvbnN0IGlzRmlsZUV4aXN0ID0gIGF3YWl0IGRiLmZpbGUuZmluZEZpcnN0KHtcclxuICAgIHdoZXJlOiB7XHJcbiAgICAgIGtleTogZmlsZS5rZXksXHJcbiAgICB9XHJcbiAgfSlcclxuXHJcbiAgaWYoaXNGaWxlRXhpc3QpIHJldHVyblxyXG4gIGNvbnN0IGNyZWF0ZWRGaWxlID0gYXdhaXQgZGIuZmlsZS5jcmVhdGUoe1xyXG4gICAgZGF0YToge1xyXG4gICAgICBrZXk6IGZpbGUua2V5LFxyXG4gICAgICBuYW1lOiBmaWxlLm5hbWUsXHJcbiAgICAgIHVzZXJJZDogbWV0YWRhdGEudXNlcklkLFxyXG4gICAgICB1cmw6IGBodHRwczovL3V0ZnMuaW8vZi8ke2ZpbGUua2V5fWAsXHJcbiAgICAgIHVwbG9hZFN0YXR1czogXCJQUk9DRVNTSU5HXCIsXHJcbiAgICB9LFxyXG4gIH0pO1xyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly91dGZzLmlvL2YvJHtmaWxlLmtleX1gKTtcclxuICAgIGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XHJcblxyXG4gICAgY29uc3QgbG9hZGVyID0gbmV3IFBERkxvYWRlcihibG9iKTtcclxuXHJcbiAgICBjb25zdCBwYWdlTGV2ZWxEb2NzID0gYXdhaXQgbG9hZGVyLmxvYWQoKTtcclxuXHJcbiAgICBjb25zdCBwYWdlc0FtdCA9IHBhZ2VMZXZlbERvY3MubGVuZ3RoO1xyXG5cclxuICAgIGNvbnN0IHsgc3Vic2NyaXB0aW9uUGxhbiB9ID0gbWV0YWRhdGE7XHJcbiAgICBjb25zdCB7IGlzU3Vic2NyaWJlZCB9ID0gc3Vic2NyaXB0aW9uUGxhbjtcclxuXHJcbiAgICBjb25zdCBpc1Byb0V4Y2VlZGVkID1cclxuICAgICAgcGFnZXNBbXQgPiBQTEFOUy5maW5kKChwbGFuKSA9PiBwbGFuLm5hbWUgPT09IFwiUHJvXCIpIS5wYWdlc1BlclBkZjtcclxuICAgIGNvbnN0IGlzRnJlZUV4Y2VlZGVkID1cclxuICAgICAgcGFnZXNBbXQgPiBQTEFOUy5maW5kKChwbGFuKSA9PiBwbGFuLm5hbWUgPT09IFwiRnJlZVwiKSEucGFnZXNQZXJQZGY7XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICAoaXNTdWJzY3JpYmVkICYmIGlzUHJvRXhjZWVkZWQpIHx8XHJcbiAgICAgICghaXNTdWJzY3JpYmVkICYmIGlzRnJlZUV4Y2VlZGVkKVxyXG4gICAgKSB7XHJcbiAgICAgIGF3YWl0IGRiLmZpbGUudXBkYXRlKHtcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICB1cGxvYWRTdGF0dXM6IFwiRkFJTEVEXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB3aGVyZToge1xyXG4gICAgICAgICAgaWQ6IGNyZWF0ZWRGaWxlLmlkLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHZlY3Rvcml6ZSBhbmQgaW5kZXggZW50aXJlIGRvY3VtZW50XHJcblxyXG4gICAgY29uc3QgcGluZWNvbmVJbmRleCA9IHBjLkluZGV4KFwicGRmXCIpO1xyXG5cclxuICAgIGNvbnN0IGVtYmVkZGluZ3MgPSBuZXcgT3BlbkFJRW1iZWRkaW5ncyh7XHJcbiAgICAgIG9wZW5BSUFwaUtleTogcHJvY2Vzcy5lbnYuT1BFTkFJX0FQSV9LRVksXHJcbiAgICB9KTtcclxuXHJcbiAgICBhd2FpdCBQaW5lY29uZVN0b3JlLmZyb21Eb2N1bWVudHMocGFnZUxldmVsRG9jcywgZW1iZWRkaW5ncywge1xyXG4gICAgICBwaW5lY29uZUluZGV4LFxyXG4gICAgICBuYW1lc3BhY2U6IGNyZWF0ZWRGaWxlLmlkLFxyXG4gICAgfSk7XHJcbiAgICBhd2FpdCBkYi5maWxlLnVwZGF0ZSh7XHJcbiAgICAgIGRhdGE6IHtcclxuICAgICAgICB1cGxvYWRTdGF0dXM6IFwiU1VDQ0VTU1wiLFxyXG4gICAgICB9LFxyXG4gICAgICB3aGVyZToge1xyXG4gICAgICAgIGlkOiBjcmVhdGVkRmlsZS5pZCxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgYXdhaXQgZGIuZmlsZS51cGRhdGUoe1xyXG4gICAgICBkYXRhOiB7XHJcbiAgICAgICAgdXBsb2FkU3RhdHVzOiBcIkZBSUxFRFwiLFxyXG4gICAgICB9LFxyXG4gICAgICB3aGVyZToge1xyXG4gICAgICAgIGlkOiBjcmVhdGVkRmlsZS5pZCxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBvdXJGaWxlUm91dGVyID0ge1xyXG4gIGZyZWVQbGFuVXBsb2FkZXI6IGYoeyBwZGY6IHsgbWF4RmlsZVNpemU6IFwiNE1CXCIgfSB9KVxyXG4gICAgLm1pZGRsZXdhcmUobWlkZGxld2FyZSlcclxuICAgIC5vblVwbG9hZENvbXBsZXRlKG9uVXBsb2FkQ29tcGxldGUpLFxyXG4gIHByb1BsYW5VcGxvYWRlcjogZih7IHBkZjogeyBtYXhGaWxlU2l6ZTogXCIxNk1CXCIgfSB9KVxyXG4gICAgLm1pZGRsZXdhcmUobWlkZGxld2FyZSlcclxuICAgIC5vblVwbG9hZENvbXBsZXRlKG9uVXBsb2FkQ29tcGxldGUpLCAgXHJcbiAgICBcclxufSBzYXRpc2ZpZXMgRmlsZVJvdXRlcjtcclxuXHJcbmV4cG9ydCB0eXBlIE91ckZpbGVSb3V0ZXIgPSB0eXBlb2Ygb3VyRmlsZVJvdXRlcjtcclxuIl0sIm5hbWVzIjpbImRiIiwiZ2V0S2luZGVTZXJ2ZXJTZXNzaW9uIiwiY3JlYXRlVXBsb2FkdGhpbmciLCJQREZMb2FkZXIiLCJQaW5lY29uZVN0b3JlIiwicGMiLCJPcGVuQUlFbWJlZGRpbmdzIiwiZ2V0VXNlclN1YnNjcmlwdGlvblBsYW4iLCJQTEFOUyIsImYiLCJtaWRkbGV3YXJlIiwiZ2V0VXNlciIsInVzZXIiLCJpZCIsIkVycm9yIiwic3Vic2NyaXB0aW9uUGxhbiIsInVzZXJJZCIsIm9uVXBsb2FkQ29tcGxldGUiLCJtZXRhZGF0YSIsImZpbGUiLCJpc0ZpbGVFeGlzdCIsImZpbmRGaXJzdCIsIndoZXJlIiwia2V5IiwiY3JlYXRlZEZpbGUiLCJjcmVhdGUiLCJkYXRhIiwibmFtZSIsInVybCIsInVwbG9hZFN0YXR1cyIsInJlc3BvbnNlIiwiZmV0Y2giLCJibG9iIiwibG9hZGVyIiwicGFnZUxldmVsRG9jcyIsImxvYWQiLCJwYWdlc0FtdCIsImxlbmd0aCIsImlzU3Vic2NyaWJlZCIsImlzUHJvRXhjZWVkZWQiLCJmaW5kIiwicGxhbiIsInBhZ2VzUGVyUGRmIiwiaXNGcmVlRXhjZWVkZWQiLCJ1cGRhdGUiLCJwaW5lY29uZUluZGV4IiwiSW5kZXgiLCJlbWJlZGRpbmdzIiwib3BlbkFJQXBpS2V5IiwicHJvY2VzcyIsImVudiIsIk9QRU5BSV9BUElfS0VZIiwiZnJvbURvY3VtZW50cyIsIm5hbWVzcGFjZSIsImVyciIsIm91ckZpbGVSb3V0ZXIiLCJmcmVlUGxhblVwbG9hZGVyIiwicGRmIiwibWF4RmlsZVNpemUiLCJwcm9QbGFuVXBsb2FkZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/uploadthing/core.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/api/uploadthing/route.ts":
/*!******************************************!*\
  !*** ./src/app/api/uploadthing/route.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var uploadthing_next__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uploadthing/next */ \"(rsc)/./node_modules/uploadthing/dist/next.mjs\");\n/* harmony import */ var _core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core */ \"(rsc)/./src/app/api/uploadthing/core.ts\");\n\n\n// Export routes for Next App Router\nconst { GET, POST } = (0,uploadthing_next__WEBPACK_IMPORTED_MODULE_0__.createRouteHandler)({\n    router: _core__WEBPACK_IMPORTED_MODULE_1__.ourFileRouter,\n    config: {}\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS91cGxvYWR0aGluZy9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXNEO0FBRWY7QUFFdkMsb0NBQW9DO0FBQzdCLE1BQU0sRUFBRUUsR0FBRyxFQUFFQyxJQUFJLEVBQUUsR0FBR0gsb0VBQWtCQSxDQUFDO0lBQzlDSSxRQUFRSCxnREFBYUE7SUFDckJJLFFBQVEsQ0FBRztBQUNiLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zeW5jY2hhdC8uL3NyYy9hcHAvYXBpL3VwbG9hZHRoaW5nL3JvdXRlLnRzP2FhNDEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlUm91dGVIYW5kbGVyIH0gZnJvbSBcInVwbG9hZHRoaW5nL25leHRcIjtcclxuIFxyXG5pbXBvcnQgeyBvdXJGaWxlUm91dGVyIH0gZnJvbSBcIi4vY29yZVwiO1xyXG4gXHJcbi8vIEV4cG9ydCByb3V0ZXMgZm9yIE5leHQgQXBwIFJvdXRlclxyXG5leHBvcnQgY29uc3QgeyBHRVQsIFBPU1QgfSA9IGNyZWF0ZVJvdXRlSGFuZGxlcih7XHJcbiAgcm91dGVyOiBvdXJGaWxlUm91dGVyLFxyXG4gIGNvbmZpZzogeyAgfSxcclxufSk7Il0sIm5hbWVzIjpbImNyZWF0ZVJvdXRlSGFuZGxlciIsIm91ckZpbGVSb3V0ZXIiLCJHRVQiLCJQT1NUIiwicm91dGVyIiwiY29uZmlnIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/uploadthing/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/config/stripe.ts":
/*!******************************!*\
  !*** ./src/config/stripe.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PLANS: () => (/* binding */ PLANS)\n/* harmony export */ });\nconst PLANS = [\n    {\n        name: \"Free\",\n        slug: \"free\",\n        quota: 10,\n        pagesPerPdf: 5,\n        price: {\n            amount: 0,\n            priceIds: {\n                test: \"\",\n                production: \"\"\n            }\n        }\n    },\n    {\n        name: \"Pro\",\n        slug: \"pro\",\n        quota: 50,\n        pagesPerPdf: 25,\n        price: {\n            amount: 9.99,\n            priceIds: {\n                test: \"price_1Oix0SHGYOuh5YIf74Zo7rRo\",\n                production: \"\"\n            }\n        }\n    }\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvY29uZmlnL3N0cmlwZS50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8sTUFBTUEsUUFBUTtJQUNqQjtRQUNJQyxNQUFNO1FBQ05DLE1BQU07UUFDTkMsT0FBTztRQUNQQyxhQUFhO1FBQ2JDLE9BQU87WUFDSEMsUUFBUTtZQUNSQyxVQUFVO2dCQUNOQyxNQUFNO2dCQUNOQyxZQUFZO1lBQ2hCO1FBQ0o7SUFFSjtJQUVBO1FBQ0lSLE1BQU07UUFDTkMsTUFBTTtRQUNOQyxPQUFPO1FBQ1BDLGFBQWE7UUFDYkMsT0FBTztZQUNIQyxRQUFRO1lBQ1JDLFVBQVU7Z0JBQ05DLE1BQU07Z0JBQ05DLFlBQVk7WUFDaEI7UUFDSjtJQUVKO0NBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zeW5jY2hhdC8uL3NyYy9jb25maWcvc3RyaXBlLnRzPzVjYTEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFBMQU5TID0gW1xyXG4gICAge1xyXG4gICAgICAgIG5hbWU6IFwiRnJlZVwiLFxyXG4gICAgICAgIHNsdWc6IFwiZnJlZVwiLFxyXG4gICAgICAgIHF1b3RhOiAxMCxcclxuICAgICAgICBwYWdlc1BlclBkZjogNSxcclxuICAgICAgICBwcmljZToge1xyXG4gICAgICAgICAgICBhbW91bnQ6IDAsXHJcbiAgICAgICAgICAgIHByaWNlSWRzOiB7XHJcbiAgICAgICAgICAgICAgICB0ZXN0OiAnJyxcclxuICAgICAgICAgICAgICAgIHByb2R1Y3Rpb246ICcnLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0sXHJcblxyXG4gICAge1xyXG4gICAgICAgIG5hbWU6IFwiUHJvXCIsXHJcbiAgICAgICAgc2x1ZzogXCJwcm9cIixcclxuICAgICAgICBxdW90YTogNTAsXHJcbiAgICAgICAgcGFnZXNQZXJQZGY6IDI1LFxyXG4gICAgICAgIHByaWNlOiB7XHJcbiAgICAgICAgICAgIGFtb3VudDogOS45OSxcclxuICAgICAgICAgICAgcHJpY2VJZHM6IHtcclxuICAgICAgICAgICAgICAgIHRlc3Q6ICdwcmljZV8xT2l4MFNIR1lPdWg1WUlmNzRabzdyUm8nLFxyXG4gICAgICAgICAgICAgICAgcHJvZHVjdGlvbjogJycsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5dIl0sIm5hbWVzIjpbIlBMQU5TIiwibmFtZSIsInNsdWciLCJxdW90YSIsInBhZ2VzUGVyUGRmIiwicHJpY2UiLCJhbW91bnQiLCJwcmljZUlkcyIsInRlc3QiLCJwcm9kdWN0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/config/stripe.ts\n");

/***/ }),

/***/ "(rsc)/./src/db/index.ts":
/*!*************************!*\
  !*** ./src/db/index.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nlet prisma;\nif (false) {} else {\n    if (!global.cachedPrisma) {\n        global.cachedPrisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\n    }\n    prisma = global.cachedPrisma;\n}\nconst db = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvZGIvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTZDO0FBTzdDLElBQUlDO0FBQ0osSUFBSUMsS0FBeUIsRUFBYyxFQUUxQyxNQUFNO0lBQ0wsSUFBSSxDQUFDQyxPQUFPQyxZQUFZLEVBQUU7UUFDeEJELE9BQU9DLFlBQVksR0FBRyxJQUFJSix3REFBWUE7SUFDeEM7SUFDQUMsU0FBU0UsT0FBT0MsWUFBWTtBQUM5QjtBQUVPLE1BQU1DLEtBQUtKLE9BQU0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zeW5jY2hhdC8uL3NyYy9kYi9pbmRleC50cz9kYWM2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50J1xyXG5cclxuZGVjbGFyZSBnbG9iYWwge1xyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby12YXJcclxuICB2YXIgY2FjaGVkUHJpc21hOiBQcmlzbWFDbGllbnRcclxufVxyXG5cclxubGV0IHByaXNtYTogUHJpc21hQ2xpZW50XHJcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgcHJpc21hID0gbmV3IFByaXNtYUNsaWVudCgpXHJcbn0gZWxzZSB7XHJcbiAgaWYgKCFnbG9iYWwuY2FjaGVkUHJpc21hKSB7XHJcbiAgICBnbG9iYWwuY2FjaGVkUHJpc21hID0gbmV3IFByaXNtYUNsaWVudCgpXHJcbiAgfVxyXG4gIHByaXNtYSA9IGdsb2JhbC5jYWNoZWRQcmlzbWFcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGRiID0gcHJpc21hIl0sIm5hbWVzIjpbIlByaXNtYUNsaWVudCIsInByaXNtYSIsInByb2Nlc3MiLCJnbG9iYWwiLCJjYWNoZWRQcmlzbWEiLCJkYiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/db/index.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/pinecone.ts":
/*!*****************************!*\
  !*** ./src/lib/pinecone.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   pc: () => (/* binding */ pc)\n/* harmony export */ });\n/* harmony import */ var _pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pinecone-database/pinecone */ \"(rsc)/./node_modules/@pinecone-database/pinecone/dist/index.js\");\n\nconst pc = new _pinecone_database_pinecone__WEBPACK_IMPORTED_MODULE_0__.Pinecone({\n    apiKey: process.env.PINECONE_API_KEY\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3BpbmVjb25lLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXVEO0FBRWhELE1BQU1DLEtBQUssSUFBSUQsaUVBQVFBLENBQUM7SUFDN0JFLFFBQVFDLFFBQVFDLEdBQUcsQ0FBQ0MsZ0JBQWdCO0FBRXRDLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zeW5jY2hhdC8uL3NyYy9saWIvcGluZWNvbmUudHM/MTA0NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQaW5lY29uZSB9IGZyb20gJ0BwaW5lY29uZS1kYXRhYmFzZS9waW5lY29uZSc7XHJcblxyXG5leHBvcnQgY29uc3QgcGMgPSBuZXcgUGluZWNvbmUoe1xyXG4gIGFwaUtleTogcHJvY2Vzcy5lbnYuUElORUNPTkVfQVBJX0tFWSEsXHJcbi8vICAgZW52aXJvbm1lbnQ6ICdnY3Atc3RhcnRlcicsXHJcbn0pO1xyXG4iXSwibmFtZXMiOlsiUGluZWNvbmUiLCJwYyIsImFwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJQSU5FQ09ORV9BUElfS0VZIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/pinecone.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/stripe.ts":
/*!***************************!*\
  !*** ./src/lib/stripe.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getUserSubscriptionPlan: () => (/* binding */ getUserSubscriptionPlan),\n/* harmony export */   stripe: () => (/* binding */ stripe)\n/* harmony export */ });\n/* harmony import */ var _config_stripe__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/stripe */ \"(rsc)/./src/config/stripe.ts\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/db */ \"(rsc)/./src/db/index.ts\");\n/* harmony import */ var _kinde_oss_kinde_auth_nextjs_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @kinde-oss/kinde-auth-nextjs/server */ \"(rsc)/./node_modules/@kinde-oss/kinde-auth-nextjs/dist/server/index.js\");\n/* harmony import */ var stripe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! stripe */ \"(rsc)/./node_modules/stripe/esm/stripe.esm.node.js\");\n\n\n\n\nconst stripe = new stripe__WEBPACK_IMPORTED_MODULE_3__[\"default\"](process.env.STRIPE_SECRET_KEY ?? \"\", {\n    apiVersion: \"2023-10-16\",\n    typescript: true\n});\nasync function getUserSubscriptionPlan() {\n    const { getUser } = (0,_kinde_oss_kinde_auth_nextjs_server__WEBPACK_IMPORTED_MODULE_2__.getKindeServerSession)();\n    const user = getUser();\n    if (!user.id) {\n        return {\n            ..._config_stripe__WEBPACK_IMPORTED_MODULE_0__.PLANS[0],\n            isSubscribed: false,\n            isCanceled: false,\n            stripeCurrentPeriodEnd: null\n        };\n    }\n    const dbUser = await _db__WEBPACK_IMPORTED_MODULE_1__.db.user.findFirst({\n        where: {\n            id: user.id\n        }\n    });\n    if (!dbUser) {\n        return {\n            ..._config_stripe__WEBPACK_IMPORTED_MODULE_0__.PLANS[0],\n            isSubscribed: false,\n            isCanceled: false,\n            stripeCurrentPeriodEnd: null\n        };\n    }\n    const isSubscribed = Boolean(dbUser.stripePriceId && dbUser.stripeCurrentPeriodEnd && // 86400000 = 1 day\n    dbUser.stripeCurrentPeriodEnd.getTime() + 86400000 > Date.now());\n    const plan = isSubscribed ? _config_stripe__WEBPACK_IMPORTED_MODULE_0__.PLANS.find((plan)=>plan.price.priceIds.test === dbUser.stripePriceId) : null;\n    let isCanceled = false;\n    if (isSubscribed && dbUser.stripeSubscriptionId) {\n        const stripePlan = await stripe.subscriptions.retrieve(dbUser.stripeSubscriptionId);\n        isCanceled = stripePlan.cancel_at_period_end;\n    }\n    return {\n        ...plan,\n        stripeSubscriptionId: dbUser.stripeSubscriptionId,\n        stripeCurrentPeriodEnd: dbUser.stripeCurrentPeriodEnd,\n        stripeCustomerId: dbUser.stripeCustomerId,\n        isSubscribed,\n        isCanceled\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3N0cmlwZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBdUM7QUFDZDtBQUNrRDtBQUNoRDtBQUVwQixNQUFNSSxTQUFTLElBQUlELDhDQUFNQSxDQUFDRSxRQUFRQyxHQUFHLENBQUNDLGlCQUFpQixJQUFJLElBQUk7SUFDcEVDLFlBQVk7SUFDWkMsWUFBWTtBQUNkLEdBQUU7QUFFSyxlQUFlQztJQUNwQixNQUFNLEVBQUVDLE9BQU8sRUFBRSxHQUFJVCwwRkFBcUJBO0lBQzFDLE1BQU1VLE9BQVNEO0lBRWYsSUFBSSxDQUFDQyxLQUFNQyxFQUFFLEVBQUU7UUFDYixPQUFPO1lBQ0wsR0FBR2IsaURBQUssQ0FBQyxFQUFFO1lBQ1hjLGNBQWM7WUFDZEMsWUFBWTtZQUNaQyx3QkFBd0I7UUFDMUI7SUFDRjtJQUVBLE1BQU1DLFNBQVMsTUFBTWhCLG1DQUFFQSxDQUFDVyxJQUFJLENBQUNNLFNBQVMsQ0FBQztRQUNyQ0MsT0FBTztZQUVMTixJQUFJRCxLQUFNQyxFQUFFO1FBQ2Q7SUFDRjtJQUVBLElBQUksQ0FBQ0ksUUFBUTtRQUNYLE9BQU87WUFDTCxHQUFHakIsaURBQUssQ0FBQyxFQUFFO1lBQ1hjLGNBQWM7WUFDZEMsWUFBWTtZQUNaQyx3QkFBd0I7UUFDMUI7SUFDRjtJQUVBLE1BQU1GLGVBQWVNLFFBQ25CSCxPQUFPSSxhQUFhLElBQ2xCSixPQUFPRCxzQkFBc0IsSUFBSSxtQkFBbUI7SUFDcERDLE9BQU9ELHNCQUFzQixDQUFDTSxPQUFPLEtBQUssV0FBYUMsS0FBS0MsR0FBRztJQUduRSxNQUFNQyxPQUFPWCxlQUNUZCxpREFBS0EsQ0FBQzBCLElBQUksQ0FBQyxDQUFDRCxPQUFTQSxLQUFLRSxLQUFLLENBQUNDLFFBQVEsQ0FBQ0MsSUFBSSxLQUFLWixPQUFPSSxhQUFhLElBQ3RFO0lBRUosSUFBSU4sYUFBYTtJQUNqQixJQUFJRCxnQkFBZ0JHLE9BQU9hLG9CQUFvQixFQUFFO1FBQy9DLE1BQU1DLGFBQWEsTUFBTTNCLE9BQU80QixhQUFhLENBQUNDLFFBQVEsQ0FDcERoQixPQUFPYSxvQkFBb0I7UUFFN0JmLGFBQWFnQixXQUFXRyxvQkFBb0I7SUFDOUM7SUFFQSxPQUFPO1FBQ0wsR0FBR1QsSUFBSTtRQUNQSyxzQkFBc0JiLE9BQU9hLG9CQUFvQjtRQUNqRGQsd0JBQXdCQyxPQUFPRCxzQkFBc0I7UUFDckRtQixrQkFBa0JsQixPQUFPa0IsZ0JBQWdCO1FBQ3pDckI7UUFDQUM7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3luY2NoYXQvLi9zcmMvbGliL3N0cmlwZS50cz83OThhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBMQU5TIH0gZnJvbSAnQC9jb25maWcvc3RyaXBlJ1xyXG5pbXBvcnQgeyBkYiB9IGZyb20gJ0AvZGInXHJcbmltcG9ydCB7IGdldEtpbmRlU2VydmVyU2Vzc2lvbiB9IGZyb20gJ0BraW5kZS1vc3Mva2luZGUtYXV0aC1uZXh0anMvc2VydmVyJ1xyXG5pbXBvcnQgU3RyaXBlIGZyb20gJ3N0cmlwZSdcclxuXHJcbmV4cG9ydCBjb25zdCBzdHJpcGUgPSBuZXcgU3RyaXBlKHByb2Nlc3MuZW52LlNUUklQRV9TRUNSRVRfS0VZID8/ICcnLCB7XHJcbiAgYXBpVmVyc2lvbjogJzIwMjMtMTAtMTYnLFxyXG4gIHR5cGVzY3JpcHQ6IHRydWUsXHJcbn0pXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlclN1YnNjcmlwdGlvblBsYW4oKSB7XHJcbiAgY29uc3QgeyBnZXRVc2VyIH0gPSAgZ2V0S2luZGVTZXJ2ZXJTZXNzaW9uKClcclxuICBjb25zdCB1c2VyID0gICBnZXRVc2VyKClcclxuICAgXHJcbiAgaWYgKCF1c2VyIS5pZCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgLi4uUExBTlNbMF0sXHJcbiAgICAgIGlzU3Vic2NyaWJlZDogZmFsc2UsXHJcbiAgICAgIGlzQ2FuY2VsZWQ6IGZhbHNlLFxyXG4gICAgICBzdHJpcGVDdXJyZW50UGVyaW9kRW5kOiBudWxsLFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3QgZGJVc2VyID0gYXdhaXQgZGIudXNlci5maW5kRmlyc3Qoe1xyXG4gICAgd2hlcmU6IHtcclxuICAgICBcclxuICAgICAgaWQ6IHVzZXIhLmlkLFxyXG4gICAgfSxcclxuICB9KVxyXG5cclxuICBpZiAoIWRiVXNlcikge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgLi4uUExBTlNbMF0sXHJcbiAgICAgIGlzU3Vic2NyaWJlZDogZmFsc2UsXHJcbiAgICAgIGlzQ2FuY2VsZWQ6IGZhbHNlLFxyXG4gICAgICBzdHJpcGVDdXJyZW50UGVyaW9kRW5kOiBudWxsLFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3QgaXNTdWJzY3JpYmVkID0gQm9vbGVhbihcclxuICAgIGRiVXNlci5zdHJpcGVQcmljZUlkICYmXHJcbiAgICAgIGRiVXNlci5zdHJpcGVDdXJyZW50UGVyaW9kRW5kICYmIC8vIDg2NDAwMDAwID0gMSBkYXlcclxuICAgICAgZGJVc2VyLnN0cmlwZUN1cnJlbnRQZXJpb2RFbmQuZ2V0VGltZSgpICsgODZfNDAwXzAwMCA+IERhdGUubm93KClcclxuICApXHJcblxyXG4gIGNvbnN0IHBsYW4gPSBpc1N1YnNjcmliZWRcclxuICAgID8gUExBTlMuZmluZCgocGxhbikgPT4gcGxhbi5wcmljZS5wcmljZUlkcy50ZXN0ID09PSBkYlVzZXIuc3RyaXBlUHJpY2VJZClcclxuICAgIDogbnVsbFxyXG5cclxuICBsZXQgaXNDYW5jZWxlZCA9IGZhbHNlXHJcbiAgaWYgKGlzU3Vic2NyaWJlZCAmJiBkYlVzZXIuc3RyaXBlU3Vic2NyaXB0aW9uSWQpIHtcclxuICAgIGNvbnN0IHN0cmlwZVBsYW4gPSBhd2FpdCBzdHJpcGUuc3Vic2NyaXB0aW9ucy5yZXRyaWV2ZShcclxuICAgICAgZGJVc2VyLnN0cmlwZVN1YnNjcmlwdGlvbklkXHJcbiAgICApXHJcbiAgICBpc0NhbmNlbGVkID0gc3RyaXBlUGxhbi5jYW5jZWxfYXRfcGVyaW9kX2VuZFxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIC4uLnBsYW4sXHJcbiAgICBzdHJpcGVTdWJzY3JpcHRpb25JZDogZGJVc2VyLnN0cmlwZVN1YnNjcmlwdGlvbklkLFxyXG4gICAgc3RyaXBlQ3VycmVudFBlcmlvZEVuZDogZGJVc2VyLnN0cmlwZUN1cnJlbnRQZXJpb2RFbmQsXHJcbiAgICBzdHJpcGVDdXN0b21lcklkOiBkYlVzZXIuc3RyaXBlQ3VzdG9tZXJJZCxcclxuICAgIGlzU3Vic2NyaWJlZCxcclxuICAgIGlzQ2FuY2VsZWQsXHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbIlBMQU5TIiwiZGIiLCJnZXRLaW5kZVNlcnZlclNlc3Npb24iLCJTdHJpcGUiLCJzdHJpcGUiLCJwcm9jZXNzIiwiZW52IiwiU1RSSVBFX1NFQ1JFVF9LRVkiLCJhcGlWZXJzaW9uIiwidHlwZXNjcmlwdCIsImdldFVzZXJTdWJzY3JpcHRpb25QbGFuIiwiZ2V0VXNlciIsInVzZXIiLCJpZCIsImlzU3Vic2NyaWJlZCIsImlzQ2FuY2VsZWQiLCJzdHJpcGVDdXJyZW50UGVyaW9kRW5kIiwiZGJVc2VyIiwiZmluZEZpcnN0Iiwid2hlcmUiLCJCb29sZWFuIiwic3RyaXBlUHJpY2VJZCIsImdldFRpbWUiLCJEYXRlIiwibm93IiwicGxhbiIsImZpbmQiLCJwcmljZSIsInByaWNlSWRzIiwidGVzdCIsInN0cmlwZVN1YnNjcmlwdGlvbklkIiwic3RyaXBlUGxhbiIsInN1YnNjcmlwdGlvbnMiLCJyZXRyaWV2ZSIsImNhbmNlbF9hdF9wZXJpb2RfZW5kIiwic3RyaXBlQ3VzdG9tZXJJZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/stripe.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@kinde-oss","vendor-chunks/crypto-js","vendor-chunks/stripe","vendor-chunks/qs","vendor-chunks/object-inspect","vendor-chunks/get-intrinsic","vendor-chunks/cookie","vendor-chunks/side-channel","vendor-chunks/define-data-property","vendor-chunks/has-symbols","vendor-chunks/@swc","vendor-chunks/function-bind","vendor-chunks/jwt-decode","vendor-chunks/call-bind","vendor-chunks/set-function-length","vendor-chunks/uncrypto","vendor-chunks/has-property-descriptors","vendor-chunks/gopd","vendor-chunks/hasown","vendor-chunks/has-proto","vendor-chunks/zod","vendor-chunks/@uploadthing","vendor-chunks/formdata-node","vendor-chunks/uploadthing","vendor-chunks/std-env","vendor-chunks/ms","vendor-chunks/@pinecone-database","vendor-chunks/@langchain","vendor-chunks/ml-distance","vendor-chunks/openai","vendor-chunks/zod-to-json-schema","vendor-chunks/form-data-encoder","vendor-chunks/langsmith","vendor-chunks/langchain","vendor-chunks/uuid","vendor-chunks/whatwg-url","vendor-chunks/agentkeepalive","vendor-chunks/retry","vendor-chunks/p-queue","vendor-chunks/ml-tree-similarity","vendor-chunks/js-tiktoken","vendor-chunks/tr46","vendor-chunks/node-fetch","vendor-chunks/consola","vendor-chunks/webidl-conversions","vendor-chunks/web-streams-polyfill","vendor-chunks/uri-js","vendor-chunks/p-timeout","vendor-chunks/p-retry","vendor-chunks/p-finally","vendor-chunks/num-sort","vendor-chunks/ml-distance-euclidean","vendor-chunks/ml-array-sum","vendor-chunks/ml-array-mean","vendor-chunks/is-any-array","vendor-chunks/humanize-ms","vendor-chunks/flat","vendor-chunks/fast-deep-equal","vendor-chunks/eventemitter3","vendor-chunks/event-target-shim","vendor-chunks/decamelize","vendor-chunks/cross-fetch","vendor-chunks/camelcase","vendor-chunks/binary-search","vendor-chunks/base64-js","vendor-chunks/abort-controller","vendor-chunks/@sinclair"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fuploadthing%2Froute&page=%2Fapi%2Fuploadthing%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fuploadthing%2Froute.ts&appDir=C%3A%5CUsers%5Cxyz%5CDownloads%5Csyncchat%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cxyz%5CDownloads%5Csyncchat&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();