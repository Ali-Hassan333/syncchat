"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/trpc/[trpc]/route";
exports.ids = ["app/api/trpc/[trpc]/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "./action-async-storage.external?8dda":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "./request-async-storage.external?3d59":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "./static-generation-async-storage.external?16bc":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute&page=%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute.ts&appDir=C%3A%5CUsers%5Cxyz%5CDownloads%5Csyncchat%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cxyz%5CDownloads%5Csyncchat&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute&page=%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute.ts&appDir=C%3A%5CUsers%5Cxyz%5CDownloads%5Csyncchat%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cxyz%5CDownloads%5Csyncchat&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_xyz_Downloads_syncchat_src_app_api_trpc_trpc_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/trpc/[trpc]/route.ts */ \"(rsc)/./src/app/api/trpc/[trpc]/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/trpc/[trpc]/route\",\n        pathname: \"/api/trpc/[trpc]\",\n        filename: \"route\",\n        bundlePath: \"app/api/trpc/[trpc]/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\xyz\\\\Downloads\\\\syncchat\\\\src\\\\app\\\\api\\\\trpc\\\\[trpc]\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_xyz_Downloads_syncchat_src_app_api_trpc_trpc_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/trpc/[trpc]/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ0cnBjJTJGJTVCdHJwYyU1RCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGdHJwYyUyRiU1QnRycGMlNUQlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZ0cnBjJTJGJTVCdHJwYyU1RCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUN4eXolNUNEb3dubG9hZHMlNUNzeW5jY2hhdCU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDeHl6JTVDRG93bmxvYWRzJTVDc3luY2NoYXQmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDMEI7QUFDdkc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zeW5jY2hhdC8/YWNhYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFx4eXpcXFxcRG93bmxvYWRzXFxcXHN5bmNjaGF0XFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHRycGNcXFxcW3RycGNdXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS90cnBjL1t0cnBjXS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3RycGMvW3RycGNdXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS90cnBjL1t0cnBjXS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXHh5elxcXFxEb3dubG9hZHNcXFxcc3luY2NoYXRcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcdHJwY1xcXFxbdHJwY11cXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvdHJwYy9bdHJwY10vcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute&page=%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute.ts&appDir=C%3A%5CUsers%5Cxyz%5CDownloads%5Csyncchat%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cxyz%5CDownloads%5Csyncchat&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/trpc/[trpc]/route.ts":
/*!******************************************!*\
  !*** ./src/app/api/trpc/[trpc]/route.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ handler),\n/* harmony export */   POST: () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _trpc_server_adapters_fetch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @trpc/server/adapters/fetch */ \"(rsc)/./node_modules/@trpc/server/dist/adapters/fetch/index.mjs\");\n/* harmony import */ var _trpc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/trpc */ \"(rsc)/./src/trpc/index.ts\");\n\n\nconst handler = (req)=>(0,_trpc_server_adapters_fetch__WEBPACK_IMPORTED_MODULE_0__.fetchRequestHandler)({\n        endpoint: \"/api/trpc\",\n        req,\n        router: _trpc__WEBPACK_IMPORTED_MODULE_1__.appRouter,\n        createContext: ()=>({})\n    });\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS90cnBjL1t0cnBjXS9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWtFO0FBQy9CO0FBRW5DLE1BQU1FLFVBQVUsQ0FBQ0MsTUFDZkgsZ0ZBQW1CQSxDQUFDO1FBQ2xCSSxVQUFVO1FBQ1ZEO1FBQ0FFLFFBQVFKLDRDQUFTQTtRQUNqQkssZUFBZSxJQUFPLEVBQUU7SUFDMUI7QUFFeUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zeW5jY2hhdC8uL3NyYy9hcHAvYXBpL3RycGMvW3RycGNdL3JvdXRlLnRzPzQzZDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZmV0Y2hSZXF1ZXN0SGFuZGxlciB9IGZyb20gJ0B0cnBjL3NlcnZlci9hZGFwdGVycy9mZXRjaCc7XHJcbmltcG9ydCB7IGFwcFJvdXRlciB9IGZyb20gJ0AvdHJwYyc7XHJcblxyXG5jb25zdCBoYW5kbGVyID0gKHJlcTogUmVxdWVzdCkgPT5cclxuICBmZXRjaFJlcXVlc3RIYW5kbGVyKHtcclxuICAgIGVuZHBvaW50OiAnL2FwaS90cnBjJyxcclxuICAgIHJlcSxcclxuICAgIHJvdXRlcjogYXBwUm91dGVyLFxyXG4gICAgY3JlYXRlQ29udGV4dDogKCkgPT4gKHsgfSlcclxuICB9KTtcclxuXHJcbmV4cG9ydCB7IGhhbmRsZXIgYXMgR0VULCBoYW5kbGVyIGFzIFBPU1QgfTsiXSwibmFtZXMiOlsiZmV0Y2hSZXF1ZXN0SGFuZGxlciIsImFwcFJvdXRlciIsImhhbmRsZXIiLCJyZXEiLCJlbmRwb2ludCIsInJvdXRlciIsImNyZWF0ZUNvbnRleHQiLCJHRVQiLCJQT1NUIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/trpc/[trpc]/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/config/infinite-query.ts":
/*!**************************************!*\
  !*** ./src/config/infinite-query.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   INFINITE_QUERY_LIMIT: () => (/* binding */ INFINITE_QUERY_LIMIT)\n/* harmony export */ });\nconst INFINITE_QUERY_LIMIT = 30;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvY29uZmlnL2luZmluaXRlLXF1ZXJ5LnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTyxNQUFNQSx1QkFBdUIsR0FBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3N5bmNjaGF0Ly4vc3JjL2NvbmZpZy9pbmZpbml0ZS1xdWVyeS50cz80YTYwIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBJTkZJTklURV9RVUVSWV9MSU1JVCA9IDMwIl0sIm5hbWVzIjpbIklORklOSVRFX1FVRVJZX0xJTUlUIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/config/infinite-query.ts\n");

/***/ }),

/***/ "(rsc)/./src/config/stripe.ts":
/*!******************************!*\
  !*** ./src/config/stripe.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PLANS: () => (/* binding */ PLANS)\n/* harmony export */ });\nconst PLANS = [\n    {\n        name: \"Free\",\n        slug: \"free\",\n        quota: 10,\n        pagesPerPdf: 5,\n        price: {\n            amount: 0,\n            priceIds: {\n                test: \"\",\n                production: \"\"\n            }\n        }\n    },\n    {\n        name: \"Pro\",\n        slug: \"pro\",\n        quota: 50,\n        pagesPerPdf: 25,\n        price: {\n            amount: 9.99,\n            priceIds: {\n                test: \"price_1Oix0SHGYOuh5YIf74Zo7rRo\",\n                production: \"\"\n            }\n        }\n    }\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvY29uZmlnL3N0cmlwZS50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8sTUFBTUEsUUFBUTtJQUNqQjtRQUNJQyxNQUFNO1FBQ05DLE1BQU07UUFDTkMsT0FBTztRQUNQQyxhQUFhO1FBQ2JDLE9BQU87WUFDSEMsUUFBUTtZQUNSQyxVQUFVO2dCQUNOQyxNQUFNO2dCQUNOQyxZQUFZO1lBQ2hCO1FBQ0o7SUFFSjtJQUVBO1FBQ0lSLE1BQU07UUFDTkMsTUFBTTtRQUNOQyxPQUFPO1FBQ1BDLGFBQWE7UUFDYkMsT0FBTztZQUNIQyxRQUFRO1lBQ1JDLFVBQVU7Z0JBQ05DLE1BQU07Z0JBQ05DLFlBQVk7WUFDaEI7UUFDSjtJQUVKO0NBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zeW5jY2hhdC8uL3NyYy9jb25maWcvc3RyaXBlLnRzPzVjYTEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFBMQU5TID0gW1xyXG4gICAge1xyXG4gICAgICAgIG5hbWU6IFwiRnJlZVwiLFxyXG4gICAgICAgIHNsdWc6IFwiZnJlZVwiLFxyXG4gICAgICAgIHF1b3RhOiAxMCxcclxuICAgICAgICBwYWdlc1BlclBkZjogNSxcclxuICAgICAgICBwcmljZToge1xyXG4gICAgICAgICAgICBhbW91bnQ6IDAsXHJcbiAgICAgICAgICAgIHByaWNlSWRzOiB7XHJcbiAgICAgICAgICAgICAgICB0ZXN0OiAnJyxcclxuICAgICAgICAgICAgICAgIHByb2R1Y3Rpb246ICcnLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0sXHJcblxyXG4gICAge1xyXG4gICAgICAgIG5hbWU6IFwiUHJvXCIsXHJcbiAgICAgICAgc2x1ZzogXCJwcm9cIixcclxuICAgICAgICBxdW90YTogNTAsXHJcbiAgICAgICAgcGFnZXNQZXJQZGY6IDI1LFxyXG4gICAgICAgIHByaWNlOiB7XHJcbiAgICAgICAgICAgIGFtb3VudDogOS45OSxcclxuICAgICAgICAgICAgcHJpY2VJZHM6IHtcclxuICAgICAgICAgICAgICAgIHRlc3Q6ICdwcmljZV8xT2l4MFNIR1lPdWg1WUlmNzRabzdyUm8nLFxyXG4gICAgICAgICAgICAgICAgcHJvZHVjdGlvbjogJycsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5dIl0sIm5hbWVzIjpbIlBMQU5TIiwibmFtZSIsInNsdWciLCJxdW90YSIsInBhZ2VzUGVyUGRmIiwicHJpY2UiLCJhbW91bnQiLCJwcmljZUlkcyIsInRlc3QiLCJwcm9kdWN0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/config/stripe.ts\n");

/***/ }),

/***/ "(rsc)/./src/db/index.ts":
/*!*************************!*\
  !*** ./src/db/index.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nlet prisma;\nif (false) {} else {\n    if (!global.cachedPrisma) {\n        global.cachedPrisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\n    }\n    prisma = global.cachedPrisma;\n}\nconst db = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvZGIvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTZDO0FBTzdDLElBQUlDO0FBQ0osSUFBSUMsS0FBeUIsRUFBYyxFQUUxQyxNQUFNO0lBQ0wsSUFBSSxDQUFDQyxPQUFPQyxZQUFZLEVBQUU7UUFDeEJELE9BQU9DLFlBQVksR0FBRyxJQUFJSix3REFBWUE7SUFDeEM7SUFDQUMsU0FBU0UsT0FBT0MsWUFBWTtBQUM5QjtBQUVPLE1BQU1DLEtBQUtKLE9BQU0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zeW5jY2hhdC8uL3NyYy9kYi9pbmRleC50cz9kYWM2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50J1xyXG5cclxuZGVjbGFyZSBnbG9iYWwge1xyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby12YXJcclxuICB2YXIgY2FjaGVkUHJpc21hOiBQcmlzbWFDbGllbnRcclxufVxyXG5cclxubGV0IHByaXNtYTogUHJpc21hQ2xpZW50XHJcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgcHJpc21hID0gbmV3IFByaXNtYUNsaWVudCgpXHJcbn0gZWxzZSB7XHJcbiAgaWYgKCFnbG9iYWwuY2FjaGVkUHJpc21hKSB7XHJcbiAgICBnbG9iYWwuY2FjaGVkUHJpc21hID0gbmV3IFByaXNtYUNsaWVudCgpXHJcbiAgfVxyXG4gIHByaXNtYSA9IGdsb2JhbC5jYWNoZWRQcmlzbWFcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGRiID0gcHJpc21hIl0sIm5hbWVzIjpbIlByaXNtYUNsaWVudCIsInByaXNtYSIsInByb2Nlc3MiLCJnbG9iYWwiLCJjYWNoZWRQcmlzbWEiLCJkYiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/db/index.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/stripe.ts":
/*!***************************!*\
  !*** ./src/lib/stripe.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getUserSubscriptionPlan: () => (/* binding */ getUserSubscriptionPlan),\n/* harmony export */   stripe: () => (/* binding */ stripe)\n/* harmony export */ });\n/* harmony import */ var _config_stripe__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/stripe */ \"(rsc)/./src/config/stripe.ts\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/db */ \"(rsc)/./src/db/index.ts\");\n/* harmony import */ var _kinde_oss_kinde_auth_nextjs_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @kinde-oss/kinde-auth-nextjs/server */ \"(rsc)/./node_modules/@kinde-oss/kinde-auth-nextjs/dist/server/index.js\");\n/* harmony import */ var stripe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! stripe */ \"(rsc)/./node_modules/stripe/esm/stripe.esm.node.js\");\n\n\n\n\nconst stripe = new stripe__WEBPACK_IMPORTED_MODULE_3__[\"default\"](process.env.STRIPE_SECRET_KEY ?? \"\", {\n    apiVersion: \"2023-10-16\",\n    typescript: true\n});\nasync function getUserSubscriptionPlan() {\n    const { getUser } = (0,_kinde_oss_kinde_auth_nextjs_server__WEBPACK_IMPORTED_MODULE_2__.getKindeServerSession)();\n    const user = getUser();\n    if (!user.id) {\n        return {\n            ..._config_stripe__WEBPACK_IMPORTED_MODULE_0__.PLANS[0],\n            isSubscribed: false,\n            isCanceled: false,\n            stripeCurrentPeriodEnd: null\n        };\n    }\n    const dbUser = await _db__WEBPACK_IMPORTED_MODULE_1__.db.user.findFirst({\n        where: {\n            id: user.id\n        }\n    });\n    if (!dbUser) {\n        return {\n            ..._config_stripe__WEBPACK_IMPORTED_MODULE_0__.PLANS[0],\n            isSubscribed: false,\n            isCanceled: false,\n            stripeCurrentPeriodEnd: null\n        };\n    }\n    const isSubscribed = Boolean(dbUser.stripePriceId && dbUser.stripeCurrentPeriodEnd && // 86400000 = 1 day\n    dbUser.stripeCurrentPeriodEnd.getTime() + 86400000 > Date.now());\n    const plan = isSubscribed ? _config_stripe__WEBPACK_IMPORTED_MODULE_0__.PLANS.find((plan)=>plan.price.priceIds.test === dbUser.stripePriceId) : null;\n    let isCanceled = false;\n    if (isSubscribed && dbUser.stripeSubscriptionId) {\n        const stripePlan = await stripe.subscriptions.retrieve(dbUser.stripeSubscriptionId);\n        isCanceled = stripePlan.cancel_at_period_end;\n    }\n    return {\n        ...plan,\n        stripeSubscriptionId: dbUser.stripeSubscriptionId,\n        stripeCurrentPeriodEnd: dbUser.stripeCurrentPeriodEnd,\n        stripeCustomerId: dbUser.stripeCustomerId,\n        isSubscribed,\n        isCanceled\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3N0cmlwZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBdUM7QUFDZDtBQUNrRDtBQUNoRDtBQUVwQixNQUFNSSxTQUFTLElBQUlELDhDQUFNQSxDQUFDRSxRQUFRQyxHQUFHLENBQUNDLGlCQUFpQixJQUFJLElBQUk7SUFDcEVDLFlBQVk7SUFDWkMsWUFBWTtBQUNkLEdBQUU7QUFFSyxlQUFlQztJQUNwQixNQUFNLEVBQUVDLE9BQU8sRUFBRSxHQUFJVCwwRkFBcUJBO0lBQzFDLE1BQU1VLE9BQVNEO0lBRWYsSUFBSSxDQUFDQyxLQUFNQyxFQUFFLEVBQUU7UUFDYixPQUFPO1lBQ0wsR0FBR2IsaURBQUssQ0FBQyxFQUFFO1lBQ1hjLGNBQWM7WUFDZEMsWUFBWTtZQUNaQyx3QkFBd0I7UUFDMUI7SUFDRjtJQUVBLE1BQU1DLFNBQVMsTUFBTWhCLG1DQUFFQSxDQUFDVyxJQUFJLENBQUNNLFNBQVMsQ0FBQztRQUNyQ0MsT0FBTztZQUVMTixJQUFJRCxLQUFNQyxFQUFFO1FBQ2Q7SUFDRjtJQUVBLElBQUksQ0FBQ0ksUUFBUTtRQUNYLE9BQU87WUFDTCxHQUFHakIsaURBQUssQ0FBQyxFQUFFO1lBQ1hjLGNBQWM7WUFDZEMsWUFBWTtZQUNaQyx3QkFBd0I7UUFDMUI7SUFDRjtJQUVBLE1BQU1GLGVBQWVNLFFBQ25CSCxPQUFPSSxhQUFhLElBQ2xCSixPQUFPRCxzQkFBc0IsSUFBSSxtQkFBbUI7SUFDcERDLE9BQU9ELHNCQUFzQixDQUFDTSxPQUFPLEtBQUssV0FBYUMsS0FBS0MsR0FBRztJQUduRSxNQUFNQyxPQUFPWCxlQUNUZCxpREFBS0EsQ0FBQzBCLElBQUksQ0FBQyxDQUFDRCxPQUFTQSxLQUFLRSxLQUFLLENBQUNDLFFBQVEsQ0FBQ0MsSUFBSSxLQUFLWixPQUFPSSxhQUFhLElBQ3RFO0lBRUosSUFBSU4sYUFBYTtJQUNqQixJQUFJRCxnQkFBZ0JHLE9BQU9hLG9CQUFvQixFQUFFO1FBQy9DLE1BQU1DLGFBQWEsTUFBTTNCLE9BQU80QixhQUFhLENBQUNDLFFBQVEsQ0FDcERoQixPQUFPYSxvQkFBb0I7UUFFN0JmLGFBQWFnQixXQUFXRyxvQkFBb0I7SUFDOUM7SUFFQSxPQUFPO1FBQ0wsR0FBR1QsSUFBSTtRQUNQSyxzQkFBc0JiLE9BQU9hLG9CQUFvQjtRQUNqRGQsd0JBQXdCQyxPQUFPRCxzQkFBc0I7UUFDckRtQixrQkFBa0JsQixPQUFPa0IsZ0JBQWdCO1FBQ3pDckI7UUFDQUM7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3luY2NoYXQvLi9zcmMvbGliL3N0cmlwZS50cz83OThhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBMQU5TIH0gZnJvbSAnQC9jb25maWcvc3RyaXBlJ1xyXG5pbXBvcnQgeyBkYiB9IGZyb20gJ0AvZGInXHJcbmltcG9ydCB7IGdldEtpbmRlU2VydmVyU2Vzc2lvbiB9IGZyb20gJ0BraW5kZS1vc3Mva2luZGUtYXV0aC1uZXh0anMvc2VydmVyJ1xyXG5pbXBvcnQgU3RyaXBlIGZyb20gJ3N0cmlwZSdcclxuXHJcbmV4cG9ydCBjb25zdCBzdHJpcGUgPSBuZXcgU3RyaXBlKHByb2Nlc3MuZW52LlNUUklQRV9TRUNSRVRfS0VZID8/ICcnLCB7XHJcbiAgYXBpVmVyc2lvbjogJzIwMjMtMTAtMTYnLFxyXG4gIHR5cGVzY3JpcHQ6IHRydWUsXHJcbn0pXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlclN1YnNjcmlwdGlvblBsYW4oKSB7XHJcbiAgY29uc3QgeyBnZXRVc2VyIH0gPSAgZ2V0S2luZGVTZXJ2ZXJTZXNzaW9uKClcclxuICBjb25zdCB1c2VyID0gICBnZXRVc2VyKClcclxuICAgXHJcbiAgaWYgKCF1c2VyIS5pZCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgLi4uUExBTlNbMF0sXHJcbiAgICAgIGlzU3Vic2NyaWJlZDogZmFsc2UsXHJcbiAgICAgIGlzQ2FuY2VsZWQ6IGZhbHNlLFxyXG4gICAgICBzdHJpcGVDdXJyZW50UGVyaW9kRW5kOiBudWxsLFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3QgZGJVc2VyID0gYXdhaXQgZGIudXNlci5maW5kRmlyc3Qoe1xyXG4gICAgd2hlcmU6IHtcclxuICAgICBcclxuICAgICAgaWQ6IHVzZXIhLmlkLFxyXG4gICAgfSxcclxuICB9KVxyXG5cclxuICBpZiAoIWRiVXNlcikge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgLi4uUExBTlNbMF0sXHJcbiAgICAgIGlzU3Vic2NyaWJlZDogZmFsc2UsXHJcbiAgICAgIGlzQ2FuY2VsZWQ6IGZhbHNlLFxyXG4gICAgICBzdHJpcGVDdXJyZW50UGVyaW9kRW5kOiBudWxsLFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3QgaXNTdWJzY3JpYmVkID0gQm9vbGVhbihcclxuICAgIGRiVXNlci5zdHJpcGVQcmljZUlkICYmXHJcbiAgICAgIGRiVXNlci5zdHJpcGVDdXJyZW50UGVyaW9kRW5kICYmIC8vIDg2NDAwMDAwID0gMSBkYXlcclxuICAgICAgZGJVc2VyLnN0cmlwZUN1cnJlbnRQZXJpb2RFbmQuZ2V0VGltZSgpICsgODZfNDAwXzAwMCA+IERhdGUubm93KClcclxuICApXHJcblxyXG4gIGNvbnN0IHBsYW4gPSBpc1N1YnNjcmliZWRcclxuICAgID8gUExBTlMuZmluZCgocGxhbikgPT4gcGxhbi5wcmljZS5wcmljZUlkcy50ZXN0ID09PSBkYlVzZXIuc3RyaXBlUHJpY2VJZClcclxuICAgIDogbnVsbFxyXG5cclxuICBsZXQgaXNDYW5jZWxlZCA9IGZhbHNlXHJcbiAgaWYgKGlzU3Vic2NyaWJlZCAmJiBkYlVzZXIuc3RyaXBlU3Vic2NyaXB0aW9uSWQpIHtcclxuICAgIGNvbnN0IHN0cmlwZVBsYW4gPSBhd2FpdCBzdHJpcGUuc3Vic2NyaXB0aW9ucy5yZXRyaWV2ZShcclxuICAgICAgZGJVc2VyLnN0cmlwZVN1YnNjcmlwdGlvbklkXHJcbiAgICApXHJcbiAgICBpc0NhbmNlbGVkID0gc3RyaXBlUGxhbi5jYW5jZWxfYXRfcGVyaW9kX2VuZFxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIC4uLnBsYW4sXHJcbiAgICBzdHJpcGVTdWJzY3JpcHRpb25JZDogZGJVc2VyLnN0cmlwZVN1YnNjcmlwdGlvbklkLFxyXG4gICAgc3RyaXBlQ3VycmVudFBlcmlvZEVuZDogZGJVc2VyLnN0cmlwZUN1cnJlbnRQZXJpb2RFbmQsXHJcbiAgICBzdHJpcGVDdXN0b21lcklkOiBkYlVzZXIuc3RyaXBlQ3VzdG9tZXJJZCxcclxuICAgIGlzU3Vic2NyaWJlZCxcclxuICAgIGlzQ2FuY2VsZWQsXHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbIlBMQU5TIiwiZGIiLCJnZXRLaW5kZVNlcnZlclNlc3Npb24iLCJTdHJpcGUiLCJzdHJpcGUiLCJwcm9jZXNzIiwiZW52IiwiU1RSSVBFX1NFQ1JFVF9LRVkiLCJhcGlWZXJzaW9uIiwidHlwZXNjcmlwdCIsImdldFVzZXJTdWJzY3JpcHRpb25QbGFuIiwiZ2V0VXNlciIsInVzZXIiLCJpZCIsImlzU3Vic2NyaWJlZCIsImlzQ2FuY2VsZWQiLCJzdHJpcGVDdXJyZW50UGVyaW9kRW5kIiwiZGJVc2VyIiwiZmluZEZpcnN0Iiwid2hlcmUiLCJCb29sZWFuIiwic3RyaXBlUHJpY2VJZCIsImdldFRpbWUiLCJEYXRlIiwibm93IiwicGxhbiIsImZpbmQiLCJwcmljZSIsInByaWNlSWRzIiwidGVzdCIsInN0cmlwZVN1YnNjcmlwdGlvbklkIiwic3RyaXBlUGxhbiIsInN1YnNjcmlwdGlvbnMiLCJyZXRyaWV2ZSIsImNhbmNlbF9hdF9wZXJpb2RfZW5kIiwic3RyaXBlQ3VzdG9tZXJJZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/stripe.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/utils.ts":
/*!**************************!*\
  !*** ./src/lib/utils.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   absoluteUrl: () => (/* binding */ absoluteUrl),\n/* harmony export */   cn: () => (/* binding */ cn),\n/* harmony export */   constructMetadata: () => (/* binding */ constructMetadata)\n/* harmony export */ });\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clsx */ \"(rsc)/./node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var tailwind_merge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tailwind-merge */ \"(rsc)/./node_modules/tailwind-merge/dist/bundle-mjs.mjs\");\n\n\nfunction cn(...inputs) {\n    return (0,tailwind_merge__WEBPACK_IMPORTED_MODULE_1__.twMerge)((0,clsx__WEBPACK_IMPORTED_MODULE_0__.clsx)(inputs));\n}\nfunction absoluteUrl(path) {\n    if (false) {}\n    if (process.env.VERCEL_URL) return `https://${process.env.VERCEL_URL}${path}`;\n    return `http://localhost:${process.env.PORT ?? 3000}${path}`;\n}\nfunction constructMetadata({ title = \"Syncchat\", description = \"\", image = \"\", icons = \"\", noIndex = false } = {}) {\n    return {\n        title,\n        description,\n        openGraph: {\n            title,\n            description,\n            images: [\n                {\n                    url: image\n                }\n            ]\n        },\n        icons,\n        metadataBase: new URL(\"https://syncchat-lake.vercel.app\"),\n        // themeColor: '',\n        ...noIndex && {\n            robots: {\n                index: false,\n                follow: false\n            }\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3V0aWxzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTZDO0FBRUo7QUFFbEMsU0FBU0UsR0FBRyxHQUFHQyxNQUFvQjtJQUN4QyxPQUFPRix1REFBT0EsQ0FBQ0QsMENBQUlBLENBQUNHO0FBQ3RCO0FBRU8sU0FBU0MsWUFBWUMsSUFBWTtJQUN0QyxJQUFJLEtBQTZCLEVBQUUsRUFBWUE7SUFDL0MsSUFBSUMsUUFBUUMsR0FBRyxDQUFDQyxVQUFVLEVBQUUsT0FBTyxDQUFDLFFBQVEsRUFBRUYsUUFBUUMsR0FBRyxDQUFDQyxVQUFVLENBQUMsRUFBRUgsS0FBSyxDQUFDO0lBQzdFLE9BQU8sQ0FBQyxpQkFBaUIsRUFBRUMsUUFBUUMsR0FBRyxDQUFDRSxJQUFJLElBQUksS0FBSyxFQUFFSixLQUFLLENBQUM7QUFDOUQ7QUFHTyxTQUFTSyxrQkFBa0IsRUFDaENDLFFBQVEsVUFBVSxFQUNsQkMsY0FBYyxFQUFFLEVBQ2hCQyxRQUFRLEVBQUUsRUFDVkMsUUFBUSxFQUFFLEVBQ1ZDLFVBQVUsS0FBSyxFQU9oQixHQUFHLENBQUMsQ0FBQztJQUNKLE9BQU87UUFDTEo7UUFDQUM7UUFDQUksV0FBVztZQUNUTDtZQUNBQztZQUNBSyxRQUFRO2dCQUNOO29CQUNFQyxLQUFLTDtnQkFDUDthQUNEO1FBQ0g7UUFFQUM7UUFDQUssY0FBYyxJQUFJQyxJQUFJO1FBQ3RCLGtCQUFrQjtRQUNsQixHQUFJTCxXQUFXO1lBQ2JNLFFBQVE7Z0JBQ05DLE9BQU87Z0JBQ1BDLFFBQVE7WUFDVjtRQUNGLENBQUM7SUFDSDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3luY2NoYXQvLi9zcmMvbGliL3V0aWxzLnRzPzdjMWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHlwZSBDbGFzc1ZhbHVlLCBjbHN4IH0gZnJvbSBcImNsc3hcIjtcbmltcG9ydCB7IE1ldGFkYXRhIH0gZnJvbSBcIm5leHRcIjtcbmltcG9ydCB7IHR3TWVyZ2UgfSBmcm9tIFwidGFpbHdpbmQtbWVyZ2VcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNuKC4uLmlucHV0czogQ2xhc3NWYWx1ZVtdKSB7XG4gIHJldHVybiB0d01lcmdlKGNsc3goaW5wdXRzKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhYnNvbHV0ZVVybChwYXRoOiBzdHJpbmcpIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHJldHVybiBwYXRoO1xuICBpZiAocHJvY2Vzcy5lbnYuVkVSQ0VMX1VSTCkgcmV0dXJuIGBodHRwczovLyR7cHJvY2Vzcy5lbnYuVkVSQ0VMX1VSTH0ke3BhdGh9YDtcbiAgcmV0dXJuIGBodHRwOi8vbG9jYWxob3N0OiR7cHJvY2Vzcy5lbnYuUE9SVCA/PyAzMDAwfSR7cGF0aH1gO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBjb25zdHJ1Y3RNZXRhZGF0YSh7XG4gIHRpdGxlID0gXCJTeW5jY2hhdFwiLFxuICBkZXNjcmlwdGlvbiA9IFwiXCIsXG4gIGltYWdlID0gXCJcIixcbiAgaWNvbnMgPSBcIlwiLFxuICBub0luZGV4ID0gZmFsc2Vcbn06IHtcbiAgdGl0bGU/OiBzdHJpbmdcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmdcbiAgaW1hZ2U/OiBzdHJpbmdcbiAgaWNvbnM/OiBzdHJpbmdcbiAgbm9JbmRleD86IGJvb2xlYW5cbn0gPSB7fSk6IE1ldGFkYXRhIHtcbiAgcmV0dXJuIHtcbiAgICB0aXRsZSxcbiAgICBkZXNjcmlwdGlvbixcbiAgICBvcGVuR3JhcGg6IHtcbiAgICAgIHRpdGxlLFxuICAgICAgZGVzY3JpcHRpb24sXG4gICAgICBpbWFnZXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIHVybDogaW1hZ2VcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0sXG4gICAgXG4gICAgaWNvbnMsXG4gICAgbWV0YWRhdGFCYXNlOiBuZXcgVVJMKCdodHRwczovL3N5bmNjaGF0LWxha2UudmVyY2VsLmFwcCcpLFxuICAgIC8vIHRoZW1lQ29sb3I6ICcnLFxuICAgIC4uLihub0luZGV4ICYmIHtcbiAgICAgIHJvYm90czoge1xuICAgICAgICBpbmRleDogZmFsc2UsXG4gICAgICAgIGZvbGxvdzogZmFsc2VcbiAgICAgIH1cbiAgICB9KVxuICB9XG59Il0sIm5hbWVzIjpbImNsc3giLCJ0d01lcmdlIiwiY24iLCJpbnB1dHMiLCJhYnNvbHV0ZVVybCIsInBhdGgiLCJwcm9jZXNzIiwiZW52IiwiVkVSQ0VMX1VSTCIsIlBPUlQiLCJjb25zdHJ1Y3RNZXRhZGF0YSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJpbWFnZSIsImljb25zIiwibm9JbmRleCIsIm9wZW5HcmFwaCIsImltYWdlcyIsInVybCIsIm1ldGFkYXRhQmFzZSIsIlVSTCIsInJvYm90cyIsImluZGV4IiwiZm9sbG93Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/utils.ts\n");

/***/ }),

/***/ "(rsc)/./src/trpc/index.ts":
/*!***************************!*\
  !*** ./src/trpc/index.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   appRouter: () => (/* binding */ appRouter)\n/* harmony export */ });\n/* harmony import */ var _kinde_oss_kinde_auth_nextjs_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @kinde-oss/kinde-auth-nextjs/server */ \"(rsc)/./node_modules/@kinde-oss/kinde-auth-nextjs/dist/server/index.js\");\n/* harmony import */ var _trpc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./trpc */ \"(rsc)/./src/trpc/trpc.ts\");\n/* harmony import */ var _trpc_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @trpc/server */ \"(rsc)/./node_modules/@trpc/server/dist/index.mjs\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/db */ \"(rsc)/./src/db/index.ts\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _config_infinite_query__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/config/infinite-query */ \"(rsc)/./src/config/infinite-query.ts\");\n/* harmony import */ var _config_stripe__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/config/stripe */ \"(rsc)/./src/config/stripe.ts\");\n/* harmony import */ var _lib_stripe__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/stripe */ \"(rsc)/./src/lib/stripe.ts\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/lib/utils */ \"(rsc)/./src/lib/utils.ts\");\n\n\n\n\n\n\n\n\n\nconst appRouter = (0,_trpc__WEBPACK_IMPORTED_MODULE_1__.router)({\n    authCallback: _trpc__WEBPACK_IMPORTED_MODULE_1__.publicProcedure.query(async ()=>{\n        const { getUser } = (0,_kinde_oss_kinde_auth_nextjs_server__WEBPACK_IMPORTED_MODULE_0__.getKindeServerSession)();\n        const user = getUser();\n        if (!user.id || !user.email) throw new _trpc_server__WEBPACK_IMPORTED_MODULE_2__.TRPCError({\n            code: \"UNAUTHORIZED\"\n        });\n        // check if the user is in the database\n        const dbUser = await _db__WEBPACK_IMPORTED_MODULE_3__.db.user.findFirst({\n            where: {\n                id: user.id\n            }\n        });\n        if (!dbUser) {\n            await _db__WEBPACK_IMPORTED_MODULE_3__.db.user.create({\n                data: {\n                    id: user.id,\n                    email: user.email\n                }\n            });\n        }\n        return {\n            success: true\n        };\n    }),\n    getUserFiles: _trpc__WEBPACK_IMPORTED_MODULE_1__.privateProcedure.query(async ({ ctx })=>{\n        const { userId } = ctx;\n        return await _db__WEBPACK_IMPORTED_MODULE_3__.db.file.findMany({\n            where: {\n                userId\n            }\n        });\n    }),\n    deleteFile: _trpc__WEBPACK_IMPORTED_MODULE_1__.privateProcedure.input(zod__WEBPACK_IMPORTED_MODULE_8__.z.object({\n        id: zod__WEBPACK_IMPORTED_MODULE_8__.z.string()\n    })).mutation(async ({ ctx, input })=>{\n        const { userId } = ctx;\n        const file = await _db__WEBPACK_IMPORTED_MODULE_3__.db.file.findFirst({\n            where: {\n                id: input.id,\n                userId\n            }\n        });\n        if (!file) throw new _trpc_server__WEBPACK_IMPORTED_MODULE_2__.TRPCError({\n            code: \"NOT_FOUND\"\n        });\n        await _db__WEBPACK_IMPORTED_MODULE_3__.db.file.delete({\n            where: {\n                id: input.id\n            }\n        });\n        return file;\n    }),\n    getFile: _trpc__WEBPACK_IMPORTED_MODULE_1__.privateProcedure.input(zod__WEBPACK_IMPORTED_MODULE_8__.z.object({\n        key: zod__WEBPACK_IMPORTED_MODULE_8__.z.string()\n    })).mutation(async ({ ctx, input })=>{\n        const { userId } = ctx;\n        const file = await _db__WEBPACK_IMPORTED_MODULE_3__.db.file.findFirst({\n            where: {\n                key: input.key,\n                userId\n            }\n        });\n        if (!file) throw new _trpc_server__WEBPACK_IMPORTED_MODULE_2__.TRPCError({\n            code: \"NOT_FOUND\"\n        });\n        return file;\n    }),\n    getFileUploadStatus: _trpc__WEBPACK_IMPORTED_MODULE_1__.privateProcedure.input(zod__WEBPACK_IMPORTED_MODULE_8__.z.object({\n        fileId: zod__WEBPACK_IMPORTED_MODULE_8__.z.string()\n    })).query(async ({ input, ctx })=>{\n        const file = await _db__WEBPACK_IMPORTED_MODULE_3__.db.file.findFirst({\n            where: {\n                id: input.fileId,\n                userId: ctx.userId\n            }\n        });\n        if (!file) return {\n            status: \"PENDING\"\n        };\n        return {\n            status: file.uploadStatus\n        };\n    }),\n    getFileMessages: _trpc__WEBPACK_IMPORTED_MODULE_1__.privateProcedure.input(zod__WEBPACK_IMPORTED_MODULE_8__.z.object({\n        limit: zod__WEBPACK_IMPORTED_MODULE_8__.z.number().min(1).max(100).nullish(),\n        cursor: zod__WEBPACK_IMPORTED_MODULE_8__.z.string().nullish(),\n        fileId: zod__WEBPACK_IMPORTED_MODULE_8__.z.string()\n    })).query(async ({ ctx, input })=>{\n        const { userId } = ctx;\n        const { fileId, cursor } = input;\n        const limit = input.limit ?? _config_infinite_query__WEBPACK_IMPORTED_MODULE_4__.INFINITE_QUERY_LIMIT;\n        const file = await _db__WEBPACK_IMPORTED_MODULE_3__.db.file.findFirst({\n            where: {\n                id: fileId,\n                userId\n            }\n        });\n        if (!file) throw new _trpc_server__WEBPACK_IMPORTED_MODULE_2__.TRPCError({\n            code: \"NOT_FOUND\"\n        });\n        const messages = await _db__WEBPACK_IMPORTED_MODULE_3__.db.message.findMany({\n            take: limit + 1,\n            where: {\n                fileId\n            },\n            orderBy: {\n                createdAt: \"desc\"\n            },\n            cursor: cursor ? {\n                id: cursor\n            } : undefined,\n            select: {\n                id: true,\n                isUserMessage: true,\n                createdAt: true,\n                text: true\n            }\n        });\n        let nextCursor = undefined;\n        if (messages.length > limit) {\n            const nextItem = messages.pop();\n            nextCursor = nextItem?.id;\n        }\n        return {\n            messages,\n            nextCursor\n        };\n    }),\n    createStripeSession: _trpc__WEBPACK_IMPORTED_MODULE_1__.privateProcedure.mutation(async ({ ctx })=>{\n        const { userId } = ctx;\n        const billingUrl = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_7__.absoluteUrl)(\"/dashboard/billing\");\n        if (!userId) throw new _trpc_server__WEBPACK_IMPORTED_MODULE_2__.TRPCError({\n            code: \"UNAUTHORIZED\"\n        });\n        const dbUser = await _db__WEBPACK_IMPORTED_MODULE_3__.db.user.findFirst({\n            where: {\n                id: userId\n            }\n        });\n        if (!dbUser) throw new _trpc_server__WEBPACK_IMPORTED_MODULE_2__.TRPCError({\n            code: \"UNAUTHORIZED\"\n        });\n        const subscriptionPlan = await (0,_lib_stripe__WEBPACK_IMPORTED_MODULE_6__.getUserSubscriptionPlan)();\n        if (subscriptionPlan.isSubscribed && dbUser.stripeCustomerId) {\n            const stripeSession = await _lib_stripe__WEBPACK_IMPORTED_MODULE_6__.stripe.billingPortal.sessions.create({\n                customer: dbUser.stripeCustomerId,\n                return_url: billingUrl\n            });\n            return {\n                url: stripeSession.url\n            };\n        }\n        const stripeSession = await _lib_stripe__WEBPACK_IMPORTED_MODULE_6__.stripe.checkout.sessions.create({\n            success_url: billingUrl,\n            cancel_url: billingUrl,\n            payment_method_types: [\n                \"card\",\n                \"paypal\"\n            ],\n            mode: \"subscription\",\n            billing_address_collection: \"auto\",\n            line_items: [\n                {\n                    price: _config_stripe__WEBPACK_IMPORTED_MODULE_5__.PLANS.find((plan)=>plan.name === \"Pro\")?.price.priceIds.test,\n                    quantity: 1\n                }\n            ],\n            metadata: {\n                userId: userId\n            }\n        });\n        return {\n            url: stripeSession.url\n        };\n    })\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU1BLENBQUNnRSxRQUFRLENBQUNKLFFBQVEsQ0FBQy9DLE1BQU0sQ0FBQztZQUNwQ29ELGFBQWFYO1lBQ2JZLFlBQVlaO1lBQ1phLHNCQUFzQjtnQkFBQztnQkFBUTthQUFTO1lBQ3hDQyxNQUFNO1lBQ05DLDRCQUE0QjtZQUM1QkMsWUFBWTtnQkFDVjtvQkFDRUMsT0FBT3pFLGlEQUFLQSxDQUFDMEUsSUFBSSxDQUNmLENBQUNDLE9BQVNBLEtBQUtDLElBQUksS0FBSyxRQUN2QkgsTUFBTUksU0FBU0M7b0JBQ2xCQyxVQUFVO2dCQUNaO2FBQ0Q7WUFDREMsVUFBVTtnQkFDUjVELFFBQVFBO1lBQ1Y7UUFDRjtRQUVGLE9BQU87WUFBRTZDLEtBQUtMLGNBQWNLLEdBQUc7UUFBQztJQUNsQztBQUdOLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zeW5jY2hhdC8uL3NyYy90cnBjL2luZGV4LnRzPzU0MGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0S2luZGVTZXJ2ZXJTZXNzaW9uIH0gZnJvbSAnQGtpbmRlLW9zcy9raW5kZS1hdXRoLW5leHRqcy9zZXJ2ZXInO1xyXG5pbXBvcnQgeyBwcml2YXRlUHJvY2VkdXJlLCBwdWJsaWNQcm9jZWR1cmUsIHJvdXRlciB9IGZyb20gJy4vdHJwYyc7XHJcbmltcG9ydCB7IFRSUENFcnJvciB9IGZyb20gJ0B0cnBjL3NlcnZlcic7XHJcbmltcG9ydCB7IGRiIH0gZnJvbSAnQC9kYic7XHJcbmltcG9ydCB7en0gZnJvbSAnem9kJztcclxuaW1wb3J0IHsgSU5GSU5JVEVfUVVFUllfTElNSVQgfSBmcm9tICdAL2NvbmZpZy9pbmZpbml0ZS1xdWVyeSc7XHJcbmltcG9ydCB7IFBMQU5TIH0gZnJvbSAnQC9jb25maWcvc3RyaXBlJztcclxuaW1wb3J0IHsgZ2V0VXNlclN1YnNjcmlwdGlvblBsYW4sIHN0cmlwZSB9IGZyb20gJ0AvbGliL3N0cmlwZSc7XHJcbmltcG9ydCB7IGFic29sdXRlVXJsIH0gZnJvbSAnQC9saWIvdXRpbHMnO1xyXG7CoFxyXG5leHBvcnQgY29uc3QgYXBwUm91dGVyID0gcm91dGVyKHtcclxuICBhdXRoQ2FsbGJhY2s6IHB1YmxpY1Byb2NlZHVyZS5xdWVyeSggYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3Qge2dldFVzZXJ9ID0gZ2V0S2luZGVTZXJ2ZXJTZXNzaW9uKClcclxuICAgIGNvbnN0IHVzZXIgPSBnZXRVc2VyKCk7XHJcblxyXG4gICAgaWYoIXVzZXIuaWQgfHwgIXVzZXIuZW1haWwpIHRocm93IG5ldyBUUlBDRXJyb3Ioe2NvZGU6XCJVTkFVVEhPUklaRURcIn0pO1xyXG5cclxuICAgIC8vIGNoZWNrIGlmIHRoZSB1c2VyIGlzIGluIHRoZSBkYXRhYmFzZVxyXG4gICAgY29uc3QgZGJVc2VyID0gIGF3YWl0IGRiLnVzZXIuZmluZEZpcnN0KHtcclxuICAgICAgd2hlcmU6IHtcclxuICAgICAgICBpZDp1c2VyLmlkXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICBpZighZGJVc2VyKSB7XHJcbiAgICAgIGF3YWl0IGRiLnVzZXIuY3JlYXRlKHtcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICBpZDogdXNlci5pZCxcclxuICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge3N1Y2Nlc3M6IHRydWV9XHJcbiAgfSksXHJcblxyXG4gIGdldFVzZXJGaWxlczogcHJpdmF0ZVByb2NlZHVyZS5xdWVyeShhc3luYyAoeyBjdHggfSkgPT4ge1xyXG4gICAgY29uc3QgeyB1c2VySWQgfSA9IGN0eFxyXG5cclxuICAgIHJldHVybiBhd2FpdCBkYi5maWxlLmZpbmRNYW55KHtcclxuICAgICAgd2hlcmU6IHtcclxuICAgICAgICB1c2VySWQsXHJcbiAgICAgIH0sXHJcbiAgICB9KVxyXG4gIH0pLFxyXG4gIGRlbGV0ZUZpbGU6IHByaXZhdGVQcm9jZWR1cmVcclxuICAgIC5pbnB1dCh6Lm9iamVjdCh7IGlkOiB6LnN0cmluZygpIH0pKVxyXG4gICAgLm11dGF0aW9uKGFzeW5jICh7IGN0eCwgaW5wdXQgfSkgPT4ge1xyXG4gICAgICBjb25zdCB7IHVzZXJJZCB9ID0gY3R4XHJcblxyXG4gICAgICBjb25zdCBmaWxlID0gYXdhaXQgZGIuZmlsZS5maW5kRmlyc3Qoe1xyXG4gICAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgICBpZDogaW5wdXQuaWQsXHJcbiAgICAgICAgICB1c2VySWQsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSlcclxuXHJcbiAgICAgIGlmICghZmlsZSkgdGhyb3cgbmV3IFRSUENFcnJvcih7IGNvZGU6ICdOT1RfRk9VTkQnIH0pXHJcblxyXG4gICAgICBhd2FpdCBkYi5maWxlLmRlbGV0ZSh7XHJcbiAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgIGlkOiBpbnB1dC5pZCxcclxuICAgICAgICB9LFxyXG4gICAgICB9KVxyXG5cclxuICAgICAgcmV0dXJuIGZpbGVcclxuICAgIH0pLFxyXG5cclxuXHJcblxyXG4gICAgZ2V0RmlsZTogcHJpdmF0ZVByb2NlZHVyZVxyXG4gICAgLmlucHV0KHoub2JqZWN0KHsga2V5OiB6LnN0cmluZygpIH0pKVxyXG4gICAgLm11dGF0aW9uKGFzeW5jICh7IGN0eCwgaW5wdXQgfSkgPT4ge1xyXG4gICAgICBjb25zdCB7IHVzZXJJZCB9ID0gY3R4XHJcblxyXG4gICAgICBjb25zdCBmaWxlID0gYXdhaXQgZGIuZmlsZS5maW5kRmlyc3Qoe1xyXG4gICAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgICBrZXk6IGlucHV0LmtleSxcclxuICAgICAgICAgIHVzZXJJZCxcclxuICAgICAgICB9LFxyXG4gICAgICB9KVxyXG5cclxuICAgICAgaWYgKCFmaWxlKSB0aHJvdyBuZXcgVFJQQ0Vycm9yKHsgY29kZTogJ05PVF9GT1VORCcgfSlcclxuXHJcbiAgICAgIHJldHVybiBmaWxlXHJcbiAgICB9KSxcclxuXHJcblxyXG4gICAgIGdldEZpbGVVcGxvYWRTdGF0dXM6IHByaXZhdGVQcm9jZWR1cmVcclxuICAgIC5pbnB1dCh6Lm9iamVjdCh7IGZpbGVJZDogei5zdHJpbmcoKSB9KSlcclxuICAgIC5xdWVyeShhc3luYyAoeyBpbnB1dCwgY3R4IH0pID0+IHtcclxuICAgICAgY29uc3QgZmlsZSA9IGF3YWl0IGRiLmZpbGUuZmluZEZpcnN0KHtcclxuICAgICAgICB3aGVyZToge1xyXG4gICAgICAgICAgaWQ6IGlucHV0LmZpbGVJZCxcclxuICAgICAgICAgIHVzZXJJZDogY3R4LnVzZXJJZCxcclxuICAgICAgICB9LFxyXG4gICAgICB9KVxyXG5cclxuICAgICAgaWYgKCFmaWxlKSByZXR1cm4geyBzdGF0dXM6ICdQRU5ESU5HJyBhcyBjb25zdCB9XHJcblxyXG4gICAgICByZXR1cm4geyBzdGF0dXM6IGZpbGUudXBsb2FkU3RhdHVzIH1cclxuICAgIH0pLFxyXG5cclxuXHJcbiAgICBnZXRGaWxlTWVzc2FnZXM6IHByaXZhdGVQcm9jZWR1cmUuaW5wdXQoXHJcbiAgICAgIHoub2JqZWN0KHtcclxuICAgICAgICBsaW1pdDogei5udW1iZXIoKS5taW4oMSkubWF4KDEwMCkubnVsbGlzaCgpLFxyXG4gICAgICAgIGN1cnNvcjogei5zdHJpbmcoKS5udWxsaXNoKCksXHJcbiAgICAgICAgZmlsZUlkOiB6LnN0cmluZygpLFxyXG4gICAgICB9KVxyXG4gICAgKVxyXG4gICAgLnF1ZXJ5KGFzeW5jICh7IGN0eCwgaW5wdXQgfSkgPT4ge1xyXG4gICAgICBjb25zdCB7IHVzZXJJZCB9ID0gY3R4XHJcbiAgICAgIGNvbnN0IHsgZmlsZUlkLCBjdXJzb3IgfSA9IGlucHV0XHJcbiAgICAgIGNvbnN0IGxpbWl0ID0gaW5wdXQubGltaXQgPz8gSU5GSU5JVEVfUVVFUllfTElNSVRcclxuICAgIFxyXG4gICAgICBjb25zdCBmaWxlID0gYXdhaXQgZGIuZmlsZS5maW5kRmlyc3Qoe1xyXG4gICAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgICBpZDogZmlsZUlkLFxyXG4gICAgICAgICAgdXNlcklkLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pXHJcbiAgICBcclxuICAgICAgaWYgKCFmaWxlKSB0aHJvdyBuZXcgVFJQQ0Vycm9yKHsgY29kZTogJ05PVF9GT1VORCcgfSlcclxuICAgIFxyXG4gICAgICBjb25zdCBtZXNzYWdlcyA9IGF3YWl0IGRiLm1lc3NhZ2UuZmluZE1hbnkoe1xyXG4gICAgICAgIHRha2U6IGxpbWl0ICsgMSxcclxuICAgICAgICB3aGVyZToge1xyXG4gICAgICAgICAgZmlsZUlkLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb3JkZXJCeToge1xyXG4gICAgICAgICAgY3JlYXRlZEF0OiAnZGVzYycsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjdXJzb3I6IGN1cnNvciA/IHsgaWQ6IGN1cnNvciB9IDogdW5kZWZpbmVkLFxyXG4gICAgICAgIHNlbGVjdDoge1xyXG4gICAgICAgICAgaWQ6IHRydWUsXHJcbiAgICAgICAgICBpc1VzZXJNZXNzYWdlOiB0cnVlLFxyXG4gICAgICAgICAgY3JlYXRlZEF0OiB0cnVlLFxyXG4gICAgICAgICAgdGV4dDogdHJ1ZSxcclxuICAgICAgICB9LFxyXG4gICAgICB9KVxyXG4gICAgXHJcbiAgICAgIGxldCBuZXh0Q3Vyc29yOiB0eXBlb2YgY3Vyc29yIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkXHJcbiAgICAgIGlmIChtZXNzYWdlcy5sZW5ndGggPiBsaW1pdCkge1xyXG4gICAgICAgIGNvbnN0IG5leHRJdGVtID0gbWVzc2FnZXMucG9wKClcclxuICAgICAgICBuZXh0Q3Vyc29yID0gbmV4dEl0ZW0/LmlkXHJcbiAgICAgIH1cclxuICAgIFxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIG1lc3NhZ2VzLFxyXG4gICAgICAgIG5leHRDdXJzb3IsXHJcbiAgICAgIH1cclxuICAgIH0pLFxyXG4gICAgwqBcclxuICAgIGNyZWF0ZVN0cmlwZVNlc3Npb246IHByaXZhdGVQcm9jZWR1cmUubXV0YXRpb24oXHJcbiAgICAgIGFzeW5jICh7IGN0eCB9KSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyB1c2VySWQgfSA9IGN0eFxyXG4gIFxyXG4gICAgICAgIGNvbnN0IGJpbGxpbmdVcmwgPSBhYnNvbHV0ZVVybCgnL2Rhc2hib2FyZC9iaWxsaW5nJylcclxuICBcclxuICAgICAgICBpZiAoIXVzZXJJZClcclxuICAgICAgICAgIHRocm93IG5ldyBUUlBDRXJyb3IoeyBjb2RlOiAnVU5BVVRIT1JJWkVEJyB9KVxyXG4gIFxyXG4gICAgICAgIGNvbnN0IGRiVXNlciA9IGF3YWl0IGRiLnVzZXIuZmluZEZpcnN0KHtcclxuICAgICAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgICAgIGlkOiB1c2VySWQsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0pXHJcbiAgXHJcbiAgICAgICAgaWYgKCFkYlVzZXIpXHJcbiAgICAgICAgICB0aHJvdyBuZXcgVFJQQ0Vycm9yKHsgY29kZTogJ1VOQVVUSE9SSVpFRCcgfSlcclxuICBcclxuICAgICAgICBjb25zdCBzdWJzY3JpcHRpb25QbGFuID1cclxuICAgICAgICAgIGF3YWl0IGdldFVzZXJTdWJzY3JpcHRpb25QbGFuKClcclxuICBcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICBzdWJzY3JpcHRpb25QbGFuLmlzU3Vic2NyaWJlZCAmJlxyXG4gICAgICAgICAgZGJVc2VyLnN0cmlwZUN1c3RvbWVySWRcclxuICAgICAgICApIHtcclxuICAgICAgICAgIGNvbnN0IHN0cmlwZVNlc3Npb24gPVxyXG4gICAgICAgICAgICBhd2FpdCBzdHJpcGUuYmlsbGluZ1BvcnRhbC5zZXNzaW9ucy5jcmVhdGUoe1xyXG4gICAgICAgICAgICAgIGN1c3RvbWVyOiBkYlVzZXIuc3RyaXBlQ3VzdG9tZXJJZCxcclxuICAgICAgICAgICAgICByZXR1cm5fdXJsOiBiaWxsaW5nVXJsLFxyXG4gICAgICAgICAgICB9KVxyXG4gIFxyXG4gICAgICAgICAgcmV0dXJuIHsgdXJsOiBzdHJpcGVTZXNzaW9uLnVybCB9XHJcbiAgICAgICAgfVxyXG4gIFxyXG4gICAgICAgIGNvbnN0IHN0cmlwZVNlc3Npb24gPVxyXG4gICAgICAgICAgYXdhaXQgc3RyaXBlLmNoZWNrb3V0LnNlc3Npb25zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3NfdXJsOiBiaWxsaW5nVXJsLFxyXG4gICAgICAgICAgICBjYW5jZWxfdXJsOiBiaWxsaW5nVXJsLFxyXG4gICAgICAgICAgICBwYXltZW50X21ldGhvZF90eXBlczogWydjYXJkJywgJ3BheXBhbCddLFxyXG4gICAgICAgICAgICBtb2RlOiAnc3Vic2NyaXB0aW9uJyxcclxuICAgICAgICAgICAgYmlsbGluZ19hZGRyZXNzX2NvbGxlY3Rpb246ICdhdXRvJyxcclxuICAgICAgICAgICAgbGluZV9pdGVtczogW1xyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHByaWNlOiBQTEFOUy5maW5kKFxyXG4gICAgICAgICAgICAgICAgICAocGxhbikgPT4gcGxhbi5uYW1lID09PSAnUHJvJ1xyXG4gICAgICAgICAgICAgICAgKT8ucHJpY2UucHJpY2VJZHMudGVzdCxcclxuICAgICAgICAgICAgICAgIHF1YW50aXR5OiAxLFxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIG1ldGFkYXRhOiB7XHJcbiAgICAgICAgICAgICAgdXNlcklkOiB1c2VySWQsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICB9KVxyXG4gIFxyXG4gICAgICAgIHJldHVybiB7IHVybDogc3RyaXBlU2Vzc2lvbi51cmwgfVxyXG4gICAgICB9XHJcbiAgICApLFxyXG5cclxufSk7XHJcblxyXG5cclxuXHJcblxyXG5leHBvcnQgdHlwZSBBcHBSb3V0ZXIgPSB0eXBlb2YgYXBwUm91dGVyOyJdLCJuYW1lcyI6WyJnZXRLaW5kZVNlcnZlclNlc3Npb24iLCJwcml2YXRlUHJvY2VkdXJlIiwicHVibGljUHJvY2VkdXJlIiwicm91dGVyIiwiVFJQQ0Vycm9yIiwiZGIiLCJ6IiwiSU5GSU5JVEVfUVVFUllfTElNSVQiLCJQTEFOUyIsImdldFVzZXJTdWJzY3JpcHRpb25QbGFuIiwic3RyaXBlIiwiYWJzb2x1dGVVcmwiLCJhcHBSb3V0ZXIiLCJhdXRoQ2FsbGJhY2siLCJxdWVyeSIsImdldFVzZXIiLCJ1c2VyIiwiaWQiLCJlbWFpbCIsImNvZGUiLCJkYlVzZXIiLCJmaW5kRmlyc3QiLCJ3aGVyZSIsImNyZWF0ZSIsImRhdGEiLCJzdWNjZXNzIiwiZ2V0VXNlckZpbGVzIiwiY3R4IiwidXNlcklkIiwiZmlsZSIsImZpbmRNYW55IiwiZGVsZXRlRmlsZSIsImlucHV0Iiwib2JqZWN0Iiwic3RyaW5nIiwibXV0YXRpb24iLCJkZWxldGUiLCJnZXRGaWxlIiwia2V5IiwiZ2V0RmlsZVVwbG9hZFN0YXR1cyIsImZpbGVJZCIsInN0YXR1cyIsInVwbG9hZFN0YXR1cyIsImdldEZpbGVNZXNzYWdlcyIsImxpbWl0IiwibnVtYmVyIiwibWluIiwibWF4IiwibnVsbGlzaCIsImN1cnNvciIsIm1lc3NhZ2VzIiwibWVzc2FnZSIsInRha2UiLCJvcmRlckJ5IiwiY3JlYXRlZEF0IiwidW5kZWZpbmVkIiwic2VsZWN0IiwiaXNVc2VyTWVzc2FnZSIsInRleHQiLCJuZXh0Q3Vyc29yIiwibGVuZ3RoIiwibmV4dEl0ZW0iLCJwb3AiLCJjcmVhdGVTdHJpcGVTZXNzaW9uIiwiYmlsbGluZ1VybCIsInN1YnNjcmlwdGlvblBsYW4iLCJpc1N1YnNjcmliZWQiLCJzdHJpcGVDdXN0b21lcklkIiwic3RyaXBlU2Vzc2lvbiIsImJpbGxpbmdQb3J0YWwiLCJzZXNzaW9ucyIsImN1c3RvbWVyIiwicmV0dXJuX3VybCIsInVybCIsImNoZWNrb3V0Iiwic3VjY2Vzc191cmwiLCJjYW5jZWxfdXJsIiwicGF5bWVudF9tZXRob2RfdHlwZXMiLCJtb2RlIiwiYmlsbGluZ19hZGRyZXNzX2NvbGxlY3Rpb24iLCJsaW5lX2l0ZW1zIiwicHJpY2UiLCJmaW5kIiwicGxhbiIsIm5hbWUiLCJwcmljZUlkcyIsInRlc3QiLCJxdWFudGl0eSIsIm1ldGFkYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/trpc/index.ts\n");

/***/ }),

/***/ "(rsc)/./src/trpc/trpc.ts":
/*!**************************!*\
  !*** ./src/trpc/trpc.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   privateProcedure: () => (/* binding */ privateProcedure),\n/* harmony export */   publicProcedure: () => (/* binding */ publicProcedure),\n/* harmony export */   router: () => (/* binding */ router)\n/* harmony export */ });\n/* harmony import */ var _kinde_oss_kinde_auth_nextjs_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @kinde-oss/kinde-auth-nextjs/server */ \"(rsc)/./node_modules/@kinde-oss/kinde-auth-nextjs/dist/server/index.js\");\n/* harmony import */ var _trpc_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @trpc/server */ \"(rsc)/./node_modules/@trpc/server/dist/index.mjs\");\n\n\n/**\r\n * Initialization of tRPC backend\r\n * Should be done only once per backend!\r\n */ const t = _trpc_server__WEBPACK_IMPORTED_MODULE_1__.initTRPC.create();\nconst middleware = t.middleware;\nconst isAuth = middleware(async (opts)=>{\n    const { getUser } = (0,_kinde_oss_kinde_auth_nextjs_server__WEBPACK_IMPORTED_MODULE_0__.getKindeServerSession)();\n    const user = getUser();\n    if (!user || !user.id) {\n        throw new _trpc_server__WEBPACK_IMPORTED_MODULE_1__.TRPCError({\n            code: \"UNAUTHORIZED\"\n        });\n    }\n    return opts.next({\n        ctx: {\n            userId: user.id,\n            user\n        }\n    });\n});\n/**\r\n * Export reusable router and procedure helpers\r\n * that can be used throughout the router\r\n */ const router = t.router;\nconst publicProcedure = t.procedure;\nconst privateProcedure = t.procedure.use(isAuth);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvdHJwYy90cnBjLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTRFO0FBQ3pCO0FBRW5EOzs7Q0FHQyxHQUNELE1BQU1HLElBQUlELGtEQUFRQSxDQUFDRSxNQUFNO0FBQ3pCLE1BQU1DLGFBQWFGLEVBQUVFLFVBQVU7QUFFL0IsTUFBTUMsU0FBU0QsV0FBWSxPQUFPRTtJQUU5QixNQUFNLEVBQUNDLE9BQU8sRUFBQyxHQUFHUiwwRkFBcUJBO0lBQ3ZDLE1BQU1TLE9BQVFEO0lBRWQsSUFBSSxDQUFDQyxRQUFRLENBQUNBLEtBQUtDLEVBQUUsRUFBRTtRQUNuQixNQUFNLElBQUlULG1EQUFTQSxDQUFDO1lBQUVVLE1BQU07UUFBZTtJQUM3QztJQUVBLE9BQU9KLEtBQUtLLElBQUksQ0FBQztRQUNmQyxLQUFLO1lBQ0hDLFFBQVFMLEtBQUtDLEVBQUU7WUFDZkQ7UUFDRjtJQUNGO0FBRU47QUFFQTs7O0NBR0MsR0FDTSxNQUFNTSxTQUFTWixFQUFFWSxNQUFNLENBQUM7QUFDeEIsTUFBTUMsa0JBQWtCYixFQUFFYyxTQUFTLENBQUM7QUFDcEMsTUFBTUMsbUJBQW1CZixFQUFFYyxTQUFTLENBQUNFLEdBQUcsQ0FBQ2IsUUFBTyIsInNvdXJjZXMiOlsid2VicGFjazovL3N5bmNjaGF0Ly4vc3JjL3RycGMvdHJwYy50cz9hMWU3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldEtpbmRlU2VydmVyU2Vzc2lvbiB9IGZyb20gJ0BraW5kZS1vc3Mva2luZGUtYXV0aC1uZXh0anMvc2VydmVyJztcclxuaW1wb3J0IHsgVFJQQ0Vycm9yLCBpbml0VFJQQyB9IGZyb20gJ0B0cnBjL3NlcnZlcic7XHJcbsKgXHJcbi8qKlxyXG4gKiBJbml0aWFsaXphdGlvbiBvZiB0UlBDIGJhY2tlbmRcclxuICogU2hvdWxkIGJlIGRvbmUgb25seSBvbmNlIHBlciBiYWNrZW5kIVxyXG4gKi9cclxuY29uc3QgdCA9IGluaXRUUlBDLmNyZWF0ZSgpO1xyXG5jb25zdCBtaWRkbGV3YXJlID0gdC5taWRkbGV3YXJlO1xyXG5cclxuY29uc3QgaXNBdXRoID0gbWlkZGxld2FyZSggYXN5bmMgKG9wdHMpID0+IHtcclxuXHJcbiAgICBjb25zdCB7Z2V0VXNlcn0gPSBnZXRLaW5kZVNlcnZlclNlc3Npb24oKVxyXG4gICAgY29uc3QgdXNlciA9ICBnZXRVc2VyKClcclxuXHJcbiAgICBpZiAoIXVzZXIgfHwgIXVzZXIuaWQpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVFJQQ0Vycm9yKHsgY29kZTogJ1VOQVVUSE9SSVpFRCcgfSlcclxuICAgICAgfVxyXG4gICAgXHJcbiAgICAgIHJldHVybiBvcHRzLm5leHQoe1xyXG4gICAgICAgIGN0eDoge1xyXG4gICAgICAgICAgdXNlcklkOiB1c2VyLmlkLFxyXG4gICAgICAgICAgdXNlcixcclxuICAgICAgICB9LFxyXG4gICAgICB9KVxyXG5cclxufSlcclxuwqBcclxuLyoqXHJcbiAqIEV4cG9ydCByZXVzYWJsZSByb3V0ZXIgYW5kIHByb2NlZHVyZSBoZWxwZXJzXHJcbiAqIHRoYXQgY2FuIGJlIHVzZWQgdGhyb3VnaG91dCB0aGUgcm91dGVyXHJcbiAqL1xyXG5leHBvcnQgY29uc3Qgcm91dGVyID0gdC5yb3V0ZXI7XHJcbmV4cG9ydCBjb25zdCBwdWJsaWNQcm9jZWR1cmUgPSB0LnByb2NlZHVyZTtcclxuZXhwb3J0IGNvbnN0IHByaXZhdGVQcm9jZWR1cmUgPSB0LnByb2NlZHVyZS51c2UoaXNBdXRoKSJdLCJuYW1lcyI6WyJnZXRLaW5kZVNlcnZlclNlc3Npb24iLCJUUlBDRXJyb3IiLCJpbml0VFJQQyIsInQiLCJjcmVhdGUiLCJtaWRkbGV3YXJlIiwiaXNBdXRoIiwib3B0cyIsImdldFVzZXIiLCJ1c2VyIiwiaWQiLCJjb2RlIiwibmV4dCIsImN0eCIsInVzZXJJZCIsInJvdXRlciIsInB1YmxpY1Byb2NlZHVyZSIsInByb2NlZHVyZSIsInByaXZhdGVQcm9jZWR1cmUiLCJ1c2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/trpc/trpc.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@kinde-oss","vendor-chunks/crypto-js","vendor-chunks/cookie","vendor-chunks/@swc","vendor-chunks/jwt-decode","vendor-chunks/uncrypto","vendor-chunks/tailwind-merge","vendor-chunks/stripe","vendor-chunks/@trpc","vendor-chunks/qs","vendor-chunks/object-inspect","vendor-chunks/get-intrinsic","vendor-chunks/side-channel","vendor-chunks/define-data-property","vendor-chunks/has-symbols","vendor-chunks/function-bind","vendor-chunks/call-bind","vendor-chunks/set-function-length","vendor-chunks/clsx","vendor-chunks/has-property-descriptors","vendor-chunks/gopd","vendor-chunks/hasown","vendor-chunks/has-proto","vendor-chunks/zod"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute&page=%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute.ts&appDir=C%3A%5CUsers%5Cxyz%5CDownloads%5Csyncchat%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cxyz%5CDownloads%5Csyncchat&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();